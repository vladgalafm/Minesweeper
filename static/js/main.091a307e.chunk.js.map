{"version":3,"sources":["components/MenuBtn/MenuBtn.js","components/Menu/Menu.js","components/GameHeader/GameHeader.js","components/GameCell/GameCell.js","components/GameColumn/GameColumn.js","components/GameField/GameField.js","components/Game/Game.js","components/DiffOption/DiffOption.js","data/data.js","components/DiffSelect/DiffSelect.js","components/DiffHistory/DiffHistory.js","components/Settings/Settings.js","components/TutorialStatic/TutorialStatic.js","components/Tutorial/Tutorial.js","components/RotateBlocker/RotateBlocker.js","img/rotate.png","components/Result/Result.js","components/Modal/Modal.js","components/Loader/Loader.js","App.js","registerServiceWorker.js","index.js"],"names":["MenuBtn","title","switchBlockHandler","className","onClick","Menu","GameHeader","inProgress","timeProceed","flagMode","minesLeft","leaveGameHandler","toggleFlagMode","disabled","GameCell","started","colIndex","rowIndex","cell","clickOnCellHandler","toggleFlagOnCellHandler","opened","mine","minesAround","flagged","defused","blownUp","rightFlagged","wrongFlagged","delay","Math","max","min","style","animationDelay","onContextMenu","e","preventDefault","GameColumn","rows","cellsCol","rowsArray","Array","apply","length","map","item","index","GameField","cols","cells","colsArray","Game","layoutMode","DiffOption","value","label","mines","selected","type","id","name","defaultChecked","htmlFor","minesAmount","difficultyOptions","option","historyTemplate","bestTime","Infinity","gamesPlayed","gamesWon","longestWinStreak","longestLoseStreak","currentWinStreak","currentLoseStreak","gameTemplate","cellsData","difficulty","flaggedAmount","safeCellsRevealed","result","cellTemplate","DiffSelect","selectedDifficulty","changeDifficulty","onChange","event","target","DiffHistory","round","Settings","history","returnHandler","aria-label","TutorialStatic","Tutorial","exitHandler","RotateBlocker","src","alt","Result","date","Date","day","getDate","month","getMonth","getFullYear","Modal","content","hideModalHandler","btn1Name","btn1Action","btn2Name","btn2Action","Loader","loaderState","App","props","initTimer","timerInterval","setInterval","setState","prevState","game","setWinState","pauseTimer","setHistoryState","defuseMines","setTimeout","switchModalHandler","setLoseState","x","y","revealMinesWhenLost","gameWon","levelData","newLevelData","updatedHistory","localStorage","setItem","JSON","stringify","displayedBlock","resetGameData","displayedModal","toggleModalVisibilityHandler","hide","modalHidden","state","enterMenuWithoutModal","leaveGameConfirm","clearInterval","continueGameConfirm","runTimer","prepareNewGame","generateCellsEmptyData","colsNum","rowsNum","cellsArr","i","colArr","j","push","exec","setGameLayoutMode","window","innerHeight","innerWidth","parseInt","setMines","minesIdCollection","minesCount","randCol","floor","random","randRow","mineId","subArr","startGame","setRevealedCellsState","col","row","revealCell","gameState","updatedGameState","countMinesAround","updatedGame","forEach","count","increment","appHeight","appWidth","gameLayoutMode","setLoaderState","version","getItem","parse","key","touchTimer","resizeAppBlock","bind","this","addEventListener","removeEventListener","appRef","height","force","ref","includes","Component","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","scope","process","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","debug","catch","error","ReactDOM","render","StrictMode","document","getElementById","URL","origin","fetch","response","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"8kBAGaA,EAAU,SAAC,GAAD,IAAEC,EAAF,EAAEA,MAAOC,EAAT,EAASA,mBAAT,OACnB,wBAAQC,UAAU,WAAWC,QAASF,EAAtC,SACKD,KCDII,EAAO,SAAC,GAAD,IAAEH,EAAF,EAAEA,mBAAF,OAChB,0BAASC,UAAU,OAAnB,UACI,oBAAIA,UAAU,cAAd,yBAGA,sBAAKA,UAAU,iBAAf,UACI,cAAC,EAAD,CACIF,MAAM,WACNC,mBAAoB,WAAOA,EAAmB,eAClD,cAAC,EAAD,CACID,MAAM,WACNC,mBAAoB,WAAOA,EAAmB,eAClD,cAAC,EAAD,CACID,MAAM,WACNC,mBAAoB,WAAOA,EAAmB,sBCfjDI,G,MAAa,SAAC,GAAD,IACvBC,EADuB,EACvBA,WACAC,EAFuB,EAEvBA,YACAC,EAHuB,EAGvBA,SACAC,EAJuB,EAIvBA,UACAC,EALuB,EAKvBA,iBACAC,EANuB,EAMvBA,eANuB,OAQtB,qBAAKT,UAAU,cAAf,SACI,sBAAKA,UAAU,uBAAf,UACI,wBAAQA,UAAU,qBAAqBC,QAAS,WAAOO,OACvD,sBAAKR,UAAU,oBAAf,UACI,qBAAKA,UAAU,sBACf,qBAAKA,UAAU,qBAAf,SACKK,OAGT,sBAAKL,UAAU,oBAAf,UACI,qBAAKA,UAAU,qBAAf,SACKO,IAEL,qBAAKP,UAAU,iDAEnB,wBACIA,UAAS,2BAAsBM,EAAW,6BAA+B,IACzEL,QAASQ,EACTC,UAAWN,WC1BdO,G,MAAW,SAAC,GAOlB,IANFC,EAMC,EANDA,QACAC,EAKC,EALDA,SACAC,EAIC,EAJDA,SACAC,EAGC,EAHDA,KACAC,EAEC,EAFDA,mBACAC,EACC,EADDA,wBAGGC,EAQAH,EARAG,OACAC,EAOAJ,EAPAI,KACAC,EAMAL,EANAK,YACAC,EAKAN,EALAM,QACAC,EAIAP,EAJAO,QACAC,EAGAR,EAHAQ,QACAC,EAEAT,EAFAS,aACAC,EACAV,EADAU,aAGEC,EADWC,KAAKC,IAAIf,EAAW,EAAGC,EAAW,GAC1Ba,KAAKE,IAAIhB,EAAW,EAAGC,EAAW,GACrDgB,EAAQ,CACVC,eAAe,GAAD,OAAa,KAARL,EAAL,MAGlB,OACI,qBAAK1B,UAAS,mBAAckB,EAAS,qBAAuB,GAA9C,yBACRG,EAAU,sBAAwB,GAD1B,yBAERC,EAAU,sBAAwB,GAF1B,yBAGRC,EAAU,uBAAyBC,EAC/B,4BAA8BC,EAC9B,4BAA8B,GAL1B,yBAMPb,EAAqC,GAAtC,0BACDkB,OAASlB,GAAWkB,GAAU,GAC9BE,cAAe,SAACC,GAAOA,EAAEC,kBAR9B,SASI,wBAAQlC,UAAS,yBAAqBkB,GAAUC,EAC1C,uBAA0BD,GAAUE,EAAc,EAAzB,0BACFA,GAAgB,IAAMV,SAAUQ,EACrDjB,QAASe,EACTgB,cAAef,QCrCtBkB,G,MAAa,SAAC,GAOpB,IANAvB,EAMD,EANCA,QACAwB,EAKD,EALCA,KACAvB,EAID,EAJCA,SACAwB,EAGD,EAHCA,SACArB,EAED,EAFCA,mBACAC,EACD,EADCA,wBAEGqB,EAAYC,MAAMC,MAAM,KAAM,CAACC,OAAQL,IAE7C,OACI,qBAAKpC,UAAU,cAAf,SACKsC,EAAUI,KAAI,SAACC,EAAMC,GAAP,OACX,cAAC,EAAD,CAEIhC,QAASA,EACTC,SAAUA,EACVC,SAAU8B,EACV7B,KAAMsB,EAASO,GACf5B,mBAAoB,kBAAMA,EAAmBH,EAAU+B,IACvD3B,wBAAyB,SAACgB,GACtBA,EAAEC,iBACFjB,EAAwBJ,EAAU+B,KARjCA,UCdZC,G,MAAY,SAAC,GAOnB,IANDjC,EAMA,EANAA,QACAkC,EAKA,EALAA,KACAV,EAIA,EAJAA,KACAW,EAGA,EAHAA,MACA/B,EAEA,EAFAA,mBACAC,EACA,EADAA,wBAEI+B,EAAYT,MAAMC,MAAM,KAAM,CAACC,OAAQK,IAE7C,OACI,qBAAK9C,UAAU,aAAf,SACI,qBAAKA,UAAU,sBAAf,SACKgD,EAAUN,KAAI,SAACC,EAAMC,GAAP,OACX,cAAC,EAAD,CAEIhC,QAASA,EACTC,SAAU+B,EACVR,KAAMA,EACNC,SAAUU,EAAMH,GAChB5B,mBAAoBA,EACpBC,wBAAyBA,GANpB2B,YCdhBK,G,MAAO,SAAC,GAAD,IACfC,EADe,EACfA,WACAtC,EAFe,EAEfA,QACAR,EAHe,EAGfA,WACA0C,EAJe,EAIfA,KACAV,EALe,EAKfA,KACAW,EANe,EAMfA,MACA1C,EAPe,EAOfA,YACAC,EARe,EAQfA,SACAC,EATe,EASfA,UACAC,EAVe,EAUfA,iBACAC,EAXe,EAWfA,eACAO,EAZe,EAYfA,mBACAC,EAbe,EAafA,wBAbe,OAehB,sBAAKjB,UAAS,eAAUkD,GAAV,OAAuBJ,EAAO,EAAI,cAAgB,IAAhE,UACI,cAAC,EAAD,CACI1C,WAAYA,EACZC,YAAaA,EACbC,SAAUA,EACVC,UAAWA,EACXC,iBAAkBA,EAClBC,eAAgBA,IACpB,cAAC,EAAD,CACIG,QAASA,EACTkC,KAAMA,EACNV,KAAMA,EACNW,MAAOA,EACP/B,mBAAoBA,EACpBC,wBAAyBA,SC/BxBkC,G,MAAa,SAAC,GAAD,IAAEC,EAAF,EAAEA,MAAOC,EAAT,EAASA,MAAOC,EAAhB,EAAgBA,MAAOC,EAAvB,EAAuBA,SAAvB,OACtB,sBAAKvD,UAAS,mCAA8BoD,GAA5C,UACI,uBAAOpD,UAAU,qBACVwD,KAAK,QACLJ,MAAOA,EACPK,GAAIL,EACJM,KAAK,aACLC,eAAgBJ,IACvB,wBAAOvD,UAAU,qBACV4D,QAASR,EADhB,UAEKC,EAAM,uBACND,EAHL,UAGmBE,EAHnB,iBCXKO,EAAc,CACvB,MAAO,GACP,OAAQ,GACR,QAAS,GACT,QAAS,IAGAC,EAAoB,CAC7B,CAAEV,MAAO,MAAOC,MAAO,YACvB,CAAED,MAAO,OAAQC,MAAO,WACxB,CAAED,MAAO,QAASC,MAAO,gBACzB,CAAED,MAAO,QAASC,MAAO,WAC3BX,KAAI,SAAAqB,GAAM,kCACLA,GADK,IAERT,MAAOO,EAAYE,EAAOX,YAKjBY,EAAkB,CAC3BC,SAAUC,IACVC,YAAa,EACbC,SAAU,EACVC,iBAAkB,EAClBC,kBAAmB,EACnBC,iBAAkB,EAClBC,kBAAmB,GAGVC,EAAe,SAAAC,GAAS,MAAK,CACtCC,WAAY,MACZ7B,KAAM,EACNV,KAAM,EACNW,MAAO2B,EACP9D,SAAS,EACTR,YAAY,EACZC,YAAa,EACbuE,cAAe,EACfC,kBAAmB,EACnBC,OAAQ,OAGCC,EAAe,CACxB7D,QAAQ,EACRC,MAAM,EACNC,YAAa,EACbC,SAAS,EACTC,SAAS,EACTC,SAAS,EACTC,cAAc,EACdC,cAAc,GC7CLuD,G,MAAa,SAAC,GAA4C,IAA3CC,EAA0C,EAA1CA,mBAAoBC,EAAsB,EAAtBA,iBAK5C,OACI,qBAAKlF,UAAU,cAAcmF,SALT,SAACC,GACrBF,EAAiBE,EAAMC,OAAOjC,QAI9B,SACKU,EAAkBpB,KAAI,SAAAqB,GAAM,OACzB,cAAC,EAAD,2BAEQA,GAFR,IAGIR,SAAU0B,IAAuBlB,EAAOX,QAFnCW,EAAOX,cCXnBkC,G,MAAc,SAAC,GAAD,IACvBrB,EADuB,EACvBA,SACAE,EAFuB,EAEvBA,YACAC,EAHuB,EAGvBA,SACAC,EAJuB,EAIvBA,iBACAC,EALuB,EAKvBA,kBACAC,EANuB,EAMvBA,iBANuB,OAQvB,sBAAKvE,UAAU,eAAf,UACI,8BACI,8CAGA,+BACKiE,GAAYA,EAAWC,IAAWD,EAAW,SAGtD,8BACI,iDAGA,+BACKE,GAAe,OAGxB,8BACI,8CAGA,+BACKC,GAAY,OAGrB,8BACI,+CAGA,+BACKA,GAAYD,EAAZ,UACQxC,KAAK4D,MAAOnB,EAAWD,EAAe,KAD9C,KAEK,UAGd,8BACI,2DAGA,+BACKE,GAAoB,OAG7B,8BACI,2DAGA,+BACKC,GAAqB,OAG9B,8BACI,2DAGA,+BACKC,GAAoB,YC9DxBiB,G,MAAW,SAAC,GAAD,IACnBb,EADmB,EACnBA,WACAc,EAFmB,EAEnBA,QACAP,EAHmB,EAGnBA,iBACAQ,EAJmB,EAInBA,cAJmB,OAMpB,yBAAS1F,UAAU,WAAnB,SACI,sBAAKA,UAAU,oBAAf,UACI,wBACIA,UAAU,mBACV2F,aAAW,iBACX1F,QAASyF,EAHb,SAII,2BAEJ,oBAAI1F,UAAU,kBAAd,sBACA,cAAC,EAAD,CACIiF,mBAAoBN,EACpBO,iBAAkBA,IACtB,cAAC,EAAD,eAAiBO,WCrBhBG,EAAiB,kBAC1B,qCACI,gCACI,oLAIA,kEAIJ,gCACI,4CAGA,wHAGA,gCACI,wCACA,+BACI,+BACI,0CADJ,yBAGA,+BACI,yCADJ,gCAKR,gCACI,yCACA,+BACI,+BACI,0CADJ,yBAGA,+BACI,8CADJ,0BAGA,+BACI,wCADJ,gCAKR,gFACmD,yCADnD,6DAKJ,gCACI,4CAGA,wEAGA,+BACI,oEAGA,qEAGA,mLAOR,gCACI,gDAGA,+BACI,+BACI,uDADJ,iNAMA,+BACI,4EADJ,+LAMA,+BACI,sEADJ,gMCpFHC,G,MAAW,SAAC,GAAD,IAAEC,EAAF,EAAEA,YAAF,OACpB,0BAAS9F,UAAU,WAAnB,UACI,wBACIA,UAAU,iBACV2F,aAAW,gBACX1F,QAAS6F,IACb,oBAAI9F,UAAU,kBAAd,sBAGA,qBAAKA,UAAU,oBAAf,SACI,cAAC,EAAD,WCVC+F,G,MAAgB,kBACzB,sBAAK/F,UAAU,iBAAf,UACI,qBAAKgG,ICNE,inDDMcC,IAAI,KACzB,oBAAGjG,UAAU,wBAAb,gDACuC,uBADvC,6BAE8B,uBAF9B,oCEJKkG,G,MAAS,SAAC,GAIhB,IAHJpB,EAGG,EAHHA,OACAzE,EAEG,EAFHA,YACAoF,EACG,EADHA,QAEOU,EAAO,IAAIC,KACXC,EAAMF,EAAKG,UAAY,EACvBH,EAAKG,UADC,WAEFH,EAAKG,WACTC,EAASJ,EAAKK,WAAa,EAAK,EAChCL,EAAKK,WAAa,EADV,WAEJL,EAAKK,WAAa,GACrBvC,EAAmCwB,EAAnCxB,SAAUE,EAAyBsB,EAAzBtB,YAAaC,EAAYqB,EAAZrB,SAE9B,OACI,sBAAKpE,UAAU,SAAf,UACI,4BAEmB,QAAX8E,EACM,4BACC,8DAAgC,uBAAhC,8BAKA,QAAXA,GAAoBzE,IAAgB4D,EAC7B,2FAGD,KAEV,sBAAKjE,UAAU,gBAAf,UACI,uCACWK,EADX,cAGA,iDACcgG,EADd,YACqBE,EADrB,YAC8BJ,EAAKM,qBAGvC,gCACI,qBAAKzG,UAAU,uCAAf,SACI,4CACgBiE,EADhB,gBAIJ,qBAAKjE,UAAU,uCAAf,SACI,+CACmBmE,OAGvB,sBAAKnE,UAAU,uCAAf,UACI,4CACgBoE,KAEhB,6CACiBzC,KAAK4D,MAAOnB,EAAWD,EAAe,KADvD,kBCrDPuC,G,MAAQ,SAAC,GAAD,IACfC,EADe,EACfA,QACA7B,EAFe,EAEfA,OACAzE,EAHe,EAGfA,YACAoF,EAJe,EAIfA,QACAmB,EALe,EAKfA,iBACAC,EANe,EAMfA,SACAC,EAPe,EAOfA,WACAC,EARe,EAQfA,SACAC,EATe,EASfA,WATe,OAWjB,qBAAKhH,UAAU,QAAf,SACI,sBAAKA,UAAS,uBAAmB4G,EAAgD,GAA7B,4BAApD,UAEQA,EACO,wBACC5G,UAAU,eACV2F,aAAW,qBACX1F,QAAS2G,IACX,KAGND,EACO,mBAAG3G,UAAU,aAAb,SACE2G,IAEH,cAAC,EAAD,CACE7B,OAAQA,EACRzE,YAAaA,EACboF,QAASA,IAErB,sBAAKzF,UAAU,kBAAf,UACI,wBAAQA,UAAU,aAAaC,QAAS6G,EAAxC,SACKD,IAEL,wBAAQ7G,UAAU,aAAaC,QAAS+G,EAAxC,SACKD,cCrCRE,G,MAAS,SAAC,GAAD,IAAEC,EAAF,EAAEA,YAAF,OAClB,qBAAKlH,UAAS,gBAA2B,WAAhBkH,EACf,kBAAoB,IAD9B,SAEI,qBAAKlH,UAAU,kBAAf,SACI,qBAAKA,UAAU,wBAAf,SACI,gCCGHmH,G,MAAb,kDACI,WAAYC,GAAQ,IAAD,8BACf,cAAMA,IAuFVC,UAAY,WACR,EAAKC,cAAgBC,aAAY,WAC7B,EAAKC,UAAS,SAAAC,GAAS,MAAK,CACxBC,KAAK,2BACED,EAAUC,MADb,IAEArH,YAAaoH,EAAUC,KAAKrH,YAAc,UAGnD,MAhGY,EAmGnBsH,YAAc,WAEV,EAAKC,aAEL,EAAKJ,UAAS,SAAAC,GAAS,MAAK,CACxBC,KAAK,2BACED,EAAUC,MADb,IAEAtH,YAAY,EACZ0E,OAAQ,YAIhB,EAAK+C,iBAAgB,GAErB,EAAKC,cAELC,YAAW,WACP,EAAKC,mBAAmB,YACzB,MArHY,EAwHnBC,aAAe,SAACC,EAAGC,GAEf,EAAKP,aAEL,EAAKJ,UAAS,SAAAC,GAAS,MAAK,CACxBC,KAAK,2BACED,EAAUC,MADb,IAEAtH,YAAY,EACZ0E,OAAQ,aAIhB,EAAK+C,iBAAgB,GAErB,EAAKO,oBAAoBF,EAAGC,GAE5BJ,YAAW,WACP,EAAKC,mBAAmB,YACzB,MA1IY,EA6InBH,gBAAkB,SAACQ,GACf,EAAKb,UAAS,SAAAC,GACV,IAAMa,EAAYb,EAAUhC,QAAQgC,EAAUC,KAAK/C,aAAeX,EAC5DuE,EAAe,CACjBtE,SAAWoE,GAAWZ,EAAUC,KAAKrH,YAAciI,EAAUrE,SACvDwD,EAAUC,KAAKrH,YAAciI,EAAUrE,SAC7CE,YAAamE,EAAUnE,YAAc,EACrCC,SAAUiE,EAAUC,EAAUlE,SAAW,EAAIkE,EAAUlE,SACvDC,iBAAmBgE,GAAWC,EAAUjE,mBAAqBiE,EAAU/D,iBACjE+D,EAAUjE,iBAAmB,EAAIiE,EAAUjE,iBACjDC,kBAAqB+D,GAAWC,EAAUhE,oBAAsBgE,EAAU9D,kBAClC8D,EAAUhE,kBAA5CgE,EAAUhE,kBAAoB,EACpCC,iBAAkB8D,EAAUC,EAAU/D,iBAAmB,EAAI,EAC7DC,kBAAoB6D,EAA4C,EAAlCC,EAAU9D,kBAAoB,GAE1DgE,EAAc,2BACbf,EAAUhC,SADG,kBAEfgC,EAAUC,KAAK/C,WAAa4D,IAKjC,OAFAE,aAAaC,QAAQ,UAAWC,KAAKC,UAAUJ,IAExC,CACH/C,QAAS+C,OApKF,EAyKnBzI,mBAAqB,SAAC8I,GACK,aAAnBA,GAEA,EAAKC,gBAGT,EAAKtB,SAAS,CACVqB,oBAhLW,EAoLnBb,mBAAqB,SAACe,GAClB,EAAKvB,SAAS,CACVuB,oBAtLW,EA0LnBC,6BAA+B,SAACC,GAC5B,EAAKzB,SAAS,CACV0B,YAAaD,KA5LF,EAgMnBzI,iBAAmB,WACf,EAAK2I,MAAMzB,KAAKtH,WACV,EAAK4H,mBAAmB,iBACxB,EAAKoB,yBAnMI,EAsMnBC,iBAAmB,WACf,EAAKD,wBACL,EAAKvB,iBAAgB,GACrB,EAAKL,UAAS,SAAAC,GAAS,MAAK,CACxBC,KAAK,2BACED,EAAUC,MADb,IAEAtH,YAAY,QAGpBkJ,cAAc,EAAKhC,gBA/MJ,EAkNnBiC,oBAAsB,WAClB,EAAKvB,mBAAmB,IACxB,EAAKwB,YApNU,EAuNnBJ,sBAAwB,WACpB,EAAKrJ,mBAAmB,QACxB,EAAKiI,mBAAmB,IACxB,EAAKgB,8BAA6B,IA1NnB,EA6NnBS,eAAiB,WACb,EAAKX,gBACL,EAAKd,mBAAmB,KA/NT,EAkOnBc,cAAgB,WACZ,EAAKtB,UAAS,SAAAC,GAAS,MAAK,CACxBC,KAAK,2BACED,EAAUC,MADb,IAEA3E,MAAO,EAAK2G,uBAAuBjC,EAAUC,KAAK5E,KAAM2E,EAAUC,KAAKtF,MACvExB,SAAS,EACTR,YAAY,EACZC,YAAa,EACbuE,cAAe,EACfC,kBAAmB,EACnBC,OAAQ,YA5OD,EAiPnB4E,uBAAyB,SAACC,EAASC,GAG/B,IAFA,IAAMC,EAAW,GAERC,EAAI,EAAGA,EAAIH,EAASG,IAAK,CAE9B,IADA,IAAMC,EAAS,GACNC,EAAI,EAAGA,EAAIJ,EAASI,IACzBD,EAAOE,KAAKlF,GAEhB8E,EAASI,KAAKF,GAGlB,OAAOF,GA5PQ,EA+PnB3E,iBAAmB,SAACP,GAAgB,IAAD,EACR,cAAcuF,KAAKvF,GADX,mBACtB7B,EADsB,KAChBV,EADgB,KAG/B,EAAK+H,kBAAkBC,OAAOC,YAAaD,OAAOE,WAAYxH,EAAMV,GACpE,EAAKoF,UAAS,SAAAC,GAAS,MAAK,CACxBC,KAAK,2BACED,EAAUC,MADb,IAEA5E,KAAMyH,SAASzH,GACfV,KAAMmI,SAASnI,GACfW,MAAO,EAAK2G,uBAAuB5G,EAAMV,GACzCuC,oBAzQO,EA8QnBlE,eAAiB,WACb,EAAK+G,UAAS,SAAAC,GAAS,MAAK,CACxBnH,UAAWmH,EAAUnH,cAhRV,EAoRnBkK,SAAW,SAACtC,EAAGC,GACX,EAAKX,UAAS,SAAAC,GAIV,IAHA,IAAMgD,EAAoB,GACtBC,EAAa,EAEVA,EAAa,EAAK7G,YAAY4D,EAAUC,KAAK/C,aAAa,CAC7D,IAAMgG,EAAUhJ,KAAKiJ,MAAMjJ,KAAKkJ,SAAWpD,EAAUC,KAAK5E,MACpDgI,EAAUnJ,KAAKiJ,MAAMjJ,KAAKkJ,SAAWpD,EAAUC,KAAKtF,MACpD2I,EAAM,UAAMJ,EAAN,YAAiBG,GAEvBC,KAAUN,GAAwBvC,EAAI,EAAIyC,GAAWzC,EAAI,EAAIyC,GAC5DxC,EAAI,EAAI2C,GAAW3C,EAAI,EAAI2C,IAC9BL,EAAkBM,IAAU,EAC5BL,GAAc,GAItB,IAAM3H,EAAQ0E,EAAUC,KAAK3E,MAAML,KAAI,SAACsI,EAAQ9C,GAC5C,OAAO8C,EAAOtI,KAAI,SAAC3B,EAAMoH,GACrB,MAAI,UAAGD,EAAH,YAAQC,KAAOsC,EACR,2BACA1J,GADP,IAEII,MAAM,IAIPJ,QAIf,MAAO,CACH2G,KAAK,2BACED,EAAUC,MADb,IAEA3E,eArTG,EA2TnBkI,UAAY,SAAC/C,EAAGC,GACZ,EAAKqC,SAAStC,EAAGC,GACjB,EAAKX,UAAS,SAAAC,GAAS,MAAK,CACxBC,KAAK,2BACED,EAAUC,MADb,IAEA9G,SAAS,EACTR,YAAY,QAGpB,EAAKoJ,UAAS,GACd,EAAK0B,sBAAsBhD,EAAGC,IArUf,EAwUnBnH,mBAAqB,SAACmK,EAAKC,GAAS,IAAD,EACkC,EAAKjC,MAA/D7I,EADwB,EACxBA,SADwB,IACdoH,KAAOtH,EADO,EACPA,WAAY2C,EADL,EACKA,MAAO8B,EADZ,EACYA,kBACrC9D,EAAOgC,EAAMoI,GAAKC,GAEnBhL,GAAoC,IAAtByE,EAGRzE,GAAcE,EACrB,EAAKW,wBAAwBkK,EAAKC,GAE3BhL,IAAeW,EAAKM,UAAYN,EAAKG,QAAUH,EAAKI,KAC3D,EAAK8G,aAAakD,EAAKC,GAEhBhL,GACP,EAAK8K,sBAAsBC,EAAKC,GAThC,EAAKH,UAAUE,EAAKC,IA7UT,EA0VnBC,WAAa,SAACC,EAAWpD,EAAGC,GACxB,IAAIoD,EAAgB,eAAOD,GACvBvI,EAAK,YAAOwI,EAAiBxI,OAEjC,GAAIA,EAAMmF,IAAMnF,EAAMmF,GAAGC,KAAOpF,EAAMmF,GAAGC,GAAGjH,SAAW6B,EAAMmF,GAAGC,GAAG9G,QAAS,CACxE0B,EAAMmF,GAAGC,GAAT,2BACOpF,EAAMmF,GAAGC,IADhB,IAEIjH,QAAQ,IAGZqK,EAAgB,2BACTA,GADS,IAEZxI,UAGJ,IAAM3B,EAAc,EAAKoK,iBAAiBzI,EAAOmF,EAAGC,GAEpD,OAAoB,IAAhB/G,EACO,mGACA,EAAKiK,WAAWE,EAAiBrD,EAAI,EAAGC,EAAI,IAC5C,EAAKkD,WAAWE,EAAkBrD,EAAGC,EAAI,IACzC,EAAKkD,WAAWE,EAAiBrD,EAAI,EAAGC,EAAI,IAC5C,EAAKkD,WAAWE,EAAiBrD,EAAI,EAAGC,IACxC,EAAKkD,WAAWE,EAAiBrD,EAAI,EAAGC,IACxC,EAAKkD,WAAWE,EAAiBrD,EAAI,EAAGC,EAAI,IAC5C,EAAKkD,WAAWE,EAAkBrD,EAAGC,EAAI,IACzC,EAAKkD,WAAWE,EAAiBrD,EAAI,EAAGC,EAAI,MAInDpF,EAAK,YAAOwI,EAAiBxI,QACvBmF,GAAGC,GAAT,2BACOpF,EAAMmF,GAAGC,IADhB,IAEI/G,gBAGG,2BACAmK,GADP,IAEIxI,WAKZ,OAAOuI,GArYQ,EAwYnBJ,sBAAwB,SAACC,EAAKC,GAC1B,EAAK5D,UAAS,SAAAC,GACV,IAAMgE,EAAc,EAAKJ,WAAL,eAAoB5D,EAAUC,MAAOyD,EAAKC,GAC1DvG,EAAoB,EAUxB,OARA4G,EAAY1I,MAAM2I,SAAQ,SAAAV,GACtBA,EAAOU,SAAQ,SAAA3K,GACPA,EAAKG,SAAWH,EAAKI,OACrB0D,GAAqB,SAK1B,CACH6C,KAAK,2BACE+D,GADH,IAEA5G,2BAxZG,EA8ZnBiD,YAAc,WACV,EAAKN,UAAS,SAAAC,GACV,IAAM1E,EAAQ0E,EAAUC,KAAK3E,MAAML,KAAI,SAAAsI,GACnC,OAAOA,EAAOtI,KAAI,SAAA3B,GACd,OAAIA,EAAKI,KACE,2BACAJ,GADP,IAEIG,QAAQ,EACRI,SAAS,IAIVP,QAIf,MAAO,CACH2G,KAAK,2BACED,EAAUC,MADb,IAEA3E,eAjbG,EAubnBqF,oBAAsB,SAAC+C,EAAKC,GACxB,EAAK5D,UAAS,SAAAC,GACV,IAAM1E,EAAQ0E,EAAUC,KAAK3E,MAAML,KAAI,SAACsI,EAAQ9C,GAC5C,OAAO8C,EAAOtI,KAAI,SAAC3B,EAAMoH,GACrB,OAAIgD,IAAQjD,GAAKkD,IAAQjD,EACd,2BACApH,GADP,IAEIG,QAAQ,EACRK,SAAS,IAGNR,EAAKI,KACL,2BACAJ,GADP,IAEIG,QAAQ,EACRM,cAAc,IAGXT,EAAKM,UAAYN,EAAKI,KACtB,2BACAJ,GADP,IAEIG,QAAQ,EACRO,cAAc,IAIfV,QAIf,MAAO,CACH2G,KAAK,2BACED,EAAUC,MADb,IAEA3E,eAxdG,EA8dnByI,iBAAmB,SAACzI,EAAOmF,EAAGC,GAG1B,IAFA,IAAIwD,EAAQ,EAEH7B,GAAK,EAAGA,EAAI,EAAGA,IACpB,GAAK/G,EAAMmF,EAAI4B,GAEf,IAAK,IAAIE,GAAK,EAAGA,EAAI,EAAGA,IAChBjH,EAAMmF,EAAI4B,GAAG3B,EAAI6B,IAAMjH,EAAMmF,EAAI4B,GAAG3B,EAAI6B,GAAG7I,OAC3CwK,GAAS,GAKrB,OAAOA,GA3eQ,EA8enB1K,wBAA0B,SAACkK,EAAKC,GACxB,EAAKjC,MAAMzB,KAAKtH,YAChB,EAAKoH,UAAS,SAAAC,GACV,IAAImE,EAAY,EACV7I,EAAQ0E,EAAUC,KAAK3E,MAAML,KAAI,SAACsI,EAAQ9C,GAC5C,OAAO8C,EAAOtI,KAAI,SAAC3B,EAAMoH,GACrB,OAAIgD,IAAQjD,GAAKkD,IAAQjD,GACjBpH,EAAKM,UACLuK,GAAa,GAGV,2BACA7K,GADP,IAEIM,SAAUN,EAAKM,WAIhBN,QAaf,MAAO,CACH2G,KAAK,2BACED,EAAUC,MADb,IAEA3E,QACA6B,cAAe6C,EAAUC,KAAK9C,cAAgBgH,SAhhB/C,EAuhBnBzB,kBAAoB,SAAC0B,EAAWC,EAAUnC,EAASC,GAC/C,EAAKpC,SAAS,CACVuE,eAAiBF,EAAY,KAAOjC,EAAU,EACxC,gBACCkC,EAAW,KAAOnC,EAAU,GACzB,gBACCmC,EAAW,KAAOnC,EAAU,GACzB,gBAAkB,MA9hBrB,EAkiBnBqC,eAAiB,SAAC9E,GACd,EAAKM,SAAS,CACVN,iBAliBJ,EAAK+E,QAAU,OACf,EAAK9C,MAAQ,CACTjC,YAAa,UACbgC,aAAa,EACbL,eAAgB,GAChBE,eAAgB,GAChBzI,UAAU,EACVoH,KAAOe,aAAayD,QAAQ,aAAe,EAAKD,QAC1CxH,EAAa,EAAKiF,uBAAuB,EAAG,IAC5Cf,KAAKwD,MAAM1D,aAAayD,QAAQ,aAC/BzH,EAAa,EAAKiF,uBAAuB,EAAG,IACnDjE,QAASkD,KAAKwD,MACV1D,aAAayD,QAAQ,YACrB,SAACE,EAAKhJ,GAAN,OAA0B,OAAVA,EAAiBc,IAAWd,MAC3C,CACD,MAAOY,IAGf,EAAKH,YAAcA,EACnB,EAAKkI,eAAiB,GACtB,EAAKzE,cAAgB,KACrB,EAAK+E,WAAa,KAClB,EAAKC,eAAiB,EAAKA,eAAeC,KAApB,gBACtB,EAAK/C,SAAW,EAAKA,SAAS+C,KAAd,gBAChB,EAAK3E,WAAa,EAAKA,WAAW2E,KAAhB,gBA1BH,EADvB,qDA8BI,WAAqB,IAAD,OAEZC,KAAKrD,MAAMzB,KAAKtH,aAChBoM,KAAKzM,mBAAmB,QACxByM,KAAKxE,mBAAmB,eAGxBS,aAAayD,QAAQ,aAAeM,KAAKP,SAEzCxD,aAAaC,QAAQ,UAAW8D,KAAKP,SAGzCO,KAAKF,iBACLlC,OAAOqC,iBAAiB,SAAUD,KAAKF,gBAEvCvE,YAAW,WACP,EAAKiE,eAAe,YACrB,OA/CX,gCAkDI,WAAsB,IAAD,EAC+CQ,KAAKrD,MAAMzB,KAApEtF,EADU,EACVA,KAAMU,EADI,EACJA,KAAM+B,EADF,EACEA,kBAAmBF,EADrB,EACqBA,WAAYvE,EADjC,EACiCA,WAG9CgC,EAAOU,EAAO+B,IAAsB2H,KAAK3I,YAAYc,IAClDvE,GACHoM,KAAK7E,cAGTc,aAAaC,QAAQ,UAAWC,KAAKC,UAAU4D,KAAKrD,MAAMzB,SA3DlE,kCA8DI,WACI0C,OAAOsC,oBAAoB,SAAUF,KAAKF,kBA/DlD,4BAkEI,WACIE,KAAKG,OAAO7K,MAAM8K,OAAlB,UAA8BxC,OAAOC,YAArC,MACAmC,KAAKrC,kBACDC,OAAOC,YAAaD,OAAOE,WAC3BkC,KAAKrD,MAAMzB,KAAK5E,KAAM0J,KAAKrD,MAAMzB,KAAKtF,QAtElD,sBAyEI,SAASyK,GACLzC,OAAOsC,oBAAoB,QAASF,KAAKhD,UACzCY,OAAOqC,iBAAiB,OAAQD,KAAK5E,cAEvB,IAAViF,GAAkBL,KAAKrD,MAAMzB,KAAKtH,aAClCoM,KAAKnF,cA9EjB,wBAkFI,WACI+C,OAAOsC,oBAAoB,OAAQF,KAAK5E,YACxCwC,OAAOqC,iBAAiB,QAASD,KAAKhD,UAEtCF,cAAckD,KAAKlF,iBAtF3B,oBAyiBI,WAAU,IAAD,SAcDkF,KAAKrD,MAbDN,EADH,EACGA,eAAgBvI,EADnB,EACmBA,SAAUyL,EAD7B,EAC6BA,eAC9BhD,EAFC,EAEDA,eAAgB7B,EAFf,EAEeA,YAAagC,EAF5B,EAE4BA,YAF5B,IAGDxB,KACI/C,EAJH,EAIGA,WACAtE,EALH,EAKGA,YACAyC,EANH,EAMGA,KACAV,EAPH,EAOGA,KACAW,EARH,EAQGA,MACAnC,EATH,EASGA,QACAR,EAVH,EAUGA,WACAwE,EAXH,EAWGA,cACAE,EAZH,EAYGA,OAGFvE,EAAYiM,KAAK3I,YAAYc,GAAcC,EAC3Ca,EAAU+G,KAAKrD,MAAM1D,QAAQd,GAEnC,OACI,uBACI3E,UAAS,aAAQkJ,EAAc,qBAAuB,IACtD4D,IAAK,SAACH,GAAD,OAAY,EAAKA,OAASA,GAFnC,UAGI,qBAAK3M,UAAU,iBAAf,SAEQ6I,EAAekE,SAAS,OAAQ,YAC1B,cAAC,EAAD,CACE7J,WAAY6I,EACZnL,QAASA,EACTR,WAAYA,EACZ0C,KAAMA,EACNV,KAAMA,EACNW,MAAOA,EACP1C,YAAaA,EACbC,SAAUA,EACVC,UAAWA,EACXC,iBAAkBgM,KAAKhM,iBACvBC,eAAgB+L,KAAK/L,eACrBO,mBAAoBwL,KAAKxL,mBACzBC,wBAAyBuL,KAAKvL,0BACb,aAAnB4H,EACI,cAAC,EAAD,CACElE,WAAYA,EACZc,QAASA,EACTP,iBAAkBsH,KAAKtH,iBACvBQ,cAAe,WAAO,EAAK3F,mBAAmB,WAC7B,aAAnB8I,EACI,cAAC,EAAD,CACE/C,YAAa,WAAO,EAAK/F,mBAAmB,WAC9C,cAAC,EAAD,CACEA,mBAAoByM,KAAKzM,uBAGjD,cAAC,EAAD,IAEuB,kBAAnBgJ,EACE,cAAC,EAAD,CACEpC,QAAS,sEACTE,SAAU,QACVE,SAAU,OACVD,WAAY0F,KAAKnD,iBAAiBkD,KAAKC,MACvCxF,WAAY,WAAO,EAAKgB,mBAAmB,KAC3CpB,iBAAkB,WAAO,EAAKoB,mBAAmB,OAChC,eAAnBe,EACA,cAAC,EAAD,CACEpC,QAAS,2DACTE,SAAU,UACVE,SAAU,WACVD,WAAY0F,KAAKnD,iBAAiBkD,KAAKC,MACvCxF,WAAYwF,KAAKjD,oBAAoBgD,KAAKC,QACzB,WAAnBzD,EACA,cAAC,EAAD,CACEjE,OAAQA,EACRzE,YAAaA,EACboF,QAASA,EACToB,SAAU,UACVE,SAAU,WACVD,WAAY0F,KAAKpD,sBAAsBmD,KAAKC,MAC5CxF,WAAYwF,KAAK/C,eAAe8C,KAAKC,MACrC5F,iBAAkB,WAAO,EAAKoC,8BAA6B,MAC7D,KAEN,cAAC,EAAD,CAAQ9B,YAAaA,IACrB,wBACIlH,UAAU,iBACV2F,aAAW,0BACX1F,QAAS,WAAO,EAAK+I,8BAA6B,aA9nBtE,GAAyBgE,cCDnBC,G,MAAcC,QACa,cAA7B9C,OAAO+C,SAASC,UAEa,UAA7BhD,OAAO+C,SAASC,UAEhBhD,OAAO+C,SAASC,SAASC,MACrB,4DA6BR,SAASC,EAAiBC,GACtBC,UAAUC,cACLC,SAASH,EAAO,CAACI,MAAM,GAAD,OAAKC,eAAL,OACtBC,MAAK,SAAAC,GACFA,EAAaC,cAAgB,WACzB,IAAMC,EAAmBF,EAAaG,WACtCD,EAAiBE,cAAgB,WACE,cAA3BF,EAAiB7E,QACbqE,UAAUC,cAAcU,WAKxBC,QAAQC,MAAM,6CAKdD,QAAQC,MAAM,4CAMjCC,OAAM,SAAAC,GACHH,QAAQG,MAAM,4CAA6CA,MChEvEC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,SDUX,WACX,GAA6C,kBAAmBpB,UAAW,CAGvE,GADkB,IAAIqB,IAAIjB,eAAwBxD,OAAO+C,UAC3C2B,SAAW1E,OAAO+C,SAAS2B,OAIrC,OAGJ1E,OAAOqC,iBAAiB,QAAQ,WAC5B,IAAMc,EAAK,UAAMK,eAAN,UAENX,EAwCjB,SAAkCM,GAE9BwB,MAAMxB,GACDM,MAAK,SAAAmB,GAGsB,MAApBA,EAASC,SACuD,IAAhED,EAASE,QAAQC,IAAI,gBAAgBC,QAAQ,cAG7C5B,UAAUC,cAAc4B,MAAMxB,MAAK,SAAAC,GAC/BA,EAAawB,aAAazB,MAAK,WAC3BzD,OAAO+C,SAASoC,eAKxBjC,EAAgBC,MAGvBe,OAAM,WACHF,QAAQC,MACJ,oEAzDAmB,CAAwBjC,GAHxBD,EAAgBC,OCxBhCkC,M","file":"static/js/main.091a307e.chunk.js","sourcesContent":["import React from 'react';\r\nimport './MenuBtn.css';\r\n\r\nexport const MenuBtn = ({title, switchBlockHandler}) => (\r\n    <button className=\"menu-btn\" onClick={switchBlockHandler}>\r\n        {title}\r\n    </button>\r\n);","import React from 'react';\r\nimport './Menu.css';\r\nimport {MenuBtn} from \"../MenuBtn/MenuBtn\";\r\n\r\nexport const Menu = ({switchBlockHandler}) => (\r\n    <section className=\"menu\">\r\n        <h1 className=\"menu__title\">\r\n            Minesweeper\r\n        </h1>\r\n        <div className=\"menu__btn-wrap\">\r\n            <MenuBtn\r\n                title=\"New game\"\r\n                switchBlockHandler={() => {switchBlockHandler('new-game')}} />\r\n            <MenuBtn\r\n                title=\"Settings\"\r\n                switchBlockHandler={() => {switchBlockHandler('settings')}} />\r\n            <MenuBtn\r\n                title=\"Tutorial\"\r\n                switchBlockHandler={() => {switchBlockHandler('tutorial')}} />\r\n        </div>\r\n    </section>\r\n);","import React from 'react';\r\nimport './GameHeader.css';\r\n\r\nexport const GameHeader = ({\r\n   inProgress,\r\n   timeProceed,\r\n   flagMode,\r\n   minesLeft,\r\n   leaveGameHandler,\r\n   toggleFlagMode\r\n}) => (\r\n    <div className=\"game-header\">\r\n        <div className=\"game-header__content\">\r\n            <button className=\"game-header__leave\" onClick={() => {leaveGameHandler()}} />\r\n            <div className=\"game-header__info\">\r\n                <div className=\"game-header__icon\" />\r\n                <div className=\"game-header__count\">\r\n                    {timeProceed}\r\n                </div>\r\n            </div>\r\n            <div className=\"game-header__info\">\r\n                <div className=\"game-header__count\">\r\n                    {minesLeft}\r\n                </div>\r\n                <div className=\"game-header__icon game-header__icon--bomb\" />\r\n            </div>\r\n            <button\r\n                className={`game-header__flag${flagMode ? ' game-header__flag--active' : ''}`}\r\n                onClick={toggleFlagMode}\r\n                disabled={!inProgress} />\r\n        </div>\r\n    </div>\r\n);","import React from 'react';\r\nimport './GameCell.css';\r\n\r\nexport const GameCell = ({\r\n     started,\r\n     colIndex,\r\n     rowIndex,\r\n     cell,\r\n     clickOnCellHandler,\r\n     toggleFlagOnCellHandler\r\n}) => {\r\n    const {\r\n        opened,\r\n        mine,\r\n        minesAround,\r\n        flagged,\r\n        defused,\r\n        blownUp,\r\n        rightFlagged,\r\n        wrongFlagged\r\n    } = cell;\r\n    const maxIndex = Math.max(colIndex + 1, rowIndex + 1);\r\n    const delay = maxIndex + Math.min(colIndex + 1, rowIndex + 1);\r\n    const style = {\r\n        animationDelay: `${delay * 0.008}s`,\r\n    };\r\n\r\n    return (\r\n        <div className={`game-cell${opened ? ' game-cell--opened' : ''}\r\n            ${flagged ? ' game-cell--flagged' : ''}\r\n            ${defused ? ' game-cell--defused' : ''}\r\n            ${blownUp ? ' game-cell--blown-up' : rightFlagged\r\n                ? ' game-cell--right-flagged' : wrongFlagged\r\n                ? ' game-cell--wrong-flagged' : ''}\r\n            ${!started ? ` game-cell--flashlight` : ''}`}\r\n             style={(!started && style) || {}}\r\n             onContextMenu={(e) => {e.preventDefault()}} >\r\n            <button className={`game-cell__btn ${(opened && mine)\r\n                ? 'game-cell__btn--mine' : (opened && minesAround > 0)\r\n                    ? `game-cell__btn--${minesAround}` : ''}`} disabled={opened}\r\n                    onClick={clickOnCellHandler}\r\n                    onContextMenu={toggleFlagOnCellHandler} />\r\n        </div>\r\n    );\r\n};","import React from 'react';\r\nimport { GameCell } from \"../GameCell/GameCell\";\r\nimport './GameColumn.css';\r\n\r\nexport const GameColumn = ({\r\n       started,\r\n       rows,\r\n       colIndex,\r\n       cellsCol,\r\n       clickOnCellHandler,\r\n       toggleFlagOnCellHandler\r\n}) => {\r\n    const rowsArray = Array.apply(null, {length: rows});\r\n\r\n    return (\r\n        <div className=\"game-column\">\r\n            {rowsArray.map((item, index) => (\r\n                <GameCell\r\n                    key={index}\r\n                    started={started}\r\n                    colIndex={colIndex}\r\n                    rowIndex={index}\r\n                    cell={cellsCol[index]}\r\n                    clickOnCellHandler={() => clickOnCellHandler(colIndex, index)}\r\n                    toggleFlagOnCellHandler={(e) => {\r\n                        e.preventDefault();\r\n                        toggleFlagOnCellHandler(colIndex, index)\r\n                    }} />\r\n            ))}\r\n        </div>\r\n    );\r\n};","import React from 'react';\r\nimport { GameColumn } from \"../GameColumn/GameColumn\";\r\nimport './GameField.css';\r\n\r\nexport const GameField = ({\r\n      started,\r\n      cols,\r\n      rows,\r\n      cells,\r\n      clickOnCellHandler,\r\n      toggleFlagOnCellHandler\r\n}) => {\r\n    const colsArray = Array.apply(null, {length: cols});\r\n\r\n    return (\r\n        <div className=\"game-field\">\r\n            <div className=\"game-field__content\">\r\n                {colsArray.map((item, index) => (\r\n                    <GameColumn\r\n                        key={index}\r\n                        started={started}\r\n                        colIndex={index}\r\n                        rows={rows}\r\n                        cellsCol={cells[index]}\r\n                        clickOnCellHandler={clickOnCellHandler}\r\n                        toggleFlagOnCellHandler={toggleFlagOnCellHandler} />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};","import React from 'react';\r\nimport { GameHeader } from \"../GameHeader/GameHeader\";\r\nimport { GameField } from \"../GameField/GameField\";\r\nimport './Game.css';\r\n\r\nexport const Game = ({\r\n     layoutMode,\r\n     started,\r\n     inProgress,\r\n     cols,\r\n     rows,\r\n     cells,\r\n     timeProceed,\r\n     flagMode,\r\n     minesLeft,\r\n     leaveGameHandler,\r\n     toggleFlagMode,\r\n     clickOnCellHandler,\r\n     toggleFlagOnCellHandler\r\n}) => (\r\n    <div className={`game ${layoutMode}${cols > 9 ? ' game--wide' : ''}`}>\r\n        <GameHeader\r\n            inProgress={inProgress}\r\n            timeProceed={timeProceed}\r\n            flagMode={flagMode}\r\n            minesLeft={minesLeft}\r\n            leaveGameHandler={leaveGameHandler}\r\n            toggleFlagMode={toggleFlagMode} />\r\n        <GameField\r\n            started={started}\r\n            cols={cols}\r\n            rows={rows}\r\n            cells={cells}\r\n            clickOnCellHandler={clickOnCellHandler}\r\n            toggleFlagOnCellHandler={toggleFlagOnCellHandler} />\r\n    </div>\r\n);","import React from 'react';\r\nimport './DiffOption.css';\r\n\r\nexport const DiffOption = ({value, label, mines, selected}) => (\r\n    <div className={`diff-option diff-option--${value}`}>\r\n        <input className=\"diff-option__input\"\r\n               type=\"radio\"\r\n               value={value}\r\n               id={value}\r\n               name=\"difficulty\"\r\n               defaultChecked={selected} />\r\n        <label className=\"diff-option__label\"\r\n               htmlFor={value}>\r\n            {label}<br/>\r\n            {value} grid, {mines} mines\r\n        </label>\r\n    </div>\r\n);","export const minesAmount = {\r\n    '9x9': 10,\r\n    '9x16': 20,\r\n    '16x16': 40,\r\n    '30x16': 99,\r\n};\r\n\r\nexport const difficultyOptions = [\r\n    { value: '9x9', label: 'Beginner' },\r\n    { value: '9x16', label: 'Amateur' },\r\n    { value: '16x16', label: 'Intermediate' },\r\n    { value: '30x16', label: 'Expert' },\r\n].map(option => ({\r\n    ...option,\r\n    mines: minesAmount[option.value],\r\n}));\r\n\r\n\r\n\r\nexport const historyTemplate = {\r\n    bestTime: Infinity,\r\n    gamesPlayed: 0,\r\n    gamesWon: 0,\r\n    longestWinStreak: 0,\r\n    longestLoseStreak: 0,\r\n    currentWinStreak: 0,\r\n    currentLoseStreak: 0,\r\n};\r\n\r\nexport const gameTemplate = cellsData => ({\r\n    difficulty: '9x9',\r\n    cols: 9,\r\n    rows: 9,\r\n    cells: cellsData,\r\n    started: false,\r\n    inProgress: false,\r\n    timeProceed: 0,\r\n    flaggedAmount: 0,\r\n    safeCellsRevealed: 0,\r\n    result: null,\r\n});\r\n\r\nexport const cellTemplate = {\r\n    opened: false,\r\n    mine: false,\r\n    minesAround: 0,\r\n    flagged: false,\r\n    defused: false,\r\n    blownUp: false,\r\n    rightFlagged: false,\r\n    wrongFlagged: false,\r\n};","import React from 'react';\r\nimport { DiffOption } from \"../DiffOption/DiffOption\";\r\nimport { difficultyOptions } from \"./../../data/data\";\r\nimport './DiffSelect.css';\r\n\r\nexport const DiffSelect = ({selectedDifficulty, changeDifficulty}) => {\r\n    const onChangeHandler = (event) => {\r\n        changeDifficulty(event.target.value);\r\n    };\r\n\r\n    return (\r\n        <div className=\"diff-select\" onChange={onChangeHandler}>\r\n            {difficultyOptions.map(option => (\r\n                <DiffOption\r\n                    key={option.value}\r\n                    {...option}\r\n                    selected={selectedDifficulty === option.value} />\r\n            ))}\r\n        </div>\r\n    );\r\n};","import React from 'react';\r\nimport './DiffHistory.css';\r\n\r\nexport const DiffHistory = ({\r\n    bestTime,\r\n    gamesPlayed,\r\n    gamesWon,\r\n    longestWinStreak,\r\n    longestLoseStreak,\r\n    currentWinStreak\r\n}) => (\r\n    <div className=\"diff-history\">\r\n        <p>\r\n            <span>\r\n                Best time:\r\n            </span>\r\n            <span>\r\n                {bestTime && bestTime < Infinity ? bestTime : '-'}\r\n            </span>\r\n        </p>\r\n        <p>\r\n            <span>\r\n                Games played:\r\n            </span>\r\n            <span>\r\n                {gamesPlayed || 0}\r\n            </span>\r\n        </p>\r\n        <p>\r\n            <span>\r\n                Games won:\r\n            </span>\r\n            <span>\r\n                {gamesWon || 0}\r\n            </span>\r\n        </p>\r\n        <p>\r\n            <span>\r\n                Percentage:\r\n            </span>\r\n            <span>\r\n                {gamesWon && gamesPlayed\r\n                    ? `${Math.round((gamesWon / gamesPlayed) * 100)}%`\r\n                    : '0%'}\r\n            </span>\r\n        </p>\r\n        <p>\r\n            <span>\r\n                Longest winning streak:\r\n            </span>\r\n            <span>\r\n                {longestWinStreak || 0}\r\n            </span>\r\n        </p>\r\n        <p>\r\n            <span>\r\n                Longest loosing streak:\r\n            </span>\r\n            <span>\r\n                {longestLoseStreak || 0}\r\n            </span>\r\n        </p>\r\n        <p>\r\n            <span>\r\n                Current winning streak:\r\n            </span>\r\n            <span>\r\n                {currentWinStreak || 0}\r\n            </span>\r\n        </p>\r\n    </div>\r\n);","import React from 'react';\r\nimport { DiffSelect } from \"../DiffSelect/DiffSelect\";\r\nimport { DiffHistory } from \"../DiffHistory/DiffHistory\";\r\nimport './Settings.css';\r\n\r\nexport const Settings = ({\r\n     difficulty,\r\n     history,\r\n     changeDifficulty,\r\n     returnHandler\r\n}) => (\r\n    <section className=\"settings\">\r\n        <div className=\"settings__content\">\r\n            <button\r\n                className=\"settings__return\"\r\n                aria-label=\"Return to menu\"\r\n                onClick={returnHandler}>\r\n                <span />\r\n            </button>\r\n            <h2 className=\"settings__title\">Settings</h2>\r\n            <DiffSelect\r\n                selectedDifficulty={difficulty}\r\n                changeDifficulty={changeDifficulty} />\r\n            <DiffHistory {...history} />\r\n        </div>\r\n    </section>\r\n);","import React from 'react';\r\n\r\nexport const TutorialStatic = () => (\r\n    <>\r\n        <div>\r\n            <p>\r\n                Minesweeper - is a logic game where mines are hidden in a grid of squares.\r\n                The objective is to open all safe squares in the quickest time possible.\r\n            </p>\r\n            <p>\r\n                Sounds pretty simple, right?..\r\n            </p>\r\n        </div>\r\n        <div>\r\n            <h3>\r\n                Game board\r\n            </h3>\r\n            <p>\r\n                There are two levels of difficulty available in mobile version, and three - in desktop.\r\n            </p>\r\n            <div>\r\n                <p>Mobile:</p>\r\n                <ul>\r\n                    <li>\r\n                        <b>Beginner:</b> 81 cells, 10 mines\r\n                    </li>\r\n                    <li>\r\n                        <b>Amateur:</b> 144 cells, 20 mines\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div>\r\n                <p>Desktop:</p>\r\n                <ul>\r\n                    <li>\r\n                        <b>Beginner:</b> 81 cells, 10 mines\r\n                    </li>\r\n                    <li>\r\n                        <b>Intermediate:</b> 256 cells, 40 mines\r\n                    </li>\r\n                    <li>\r\n                        <b>Expert:</b> 480 cells, 99 mines\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <p>\r\n                To start a new game with another level, switch <b>Settings</b> in application menu\r\n                and select difficulty you want.\r\n            </p>\r\n        </div>\r\n        <div>\r\n            <h3>\r\n                Game rules\r\n            </h3>\r\n            <p>\r\n                So, rules in Minesweeper are very easy:\r\n            </p>\r\n            <ul>\r\n                <li>\r\n                    Cell with mine opened - game lost.\r\n                </li>\r\n                <li>\r\n                    Empty cell opened - game continues.\r\n                </li>\r\n                <li>\r\n                    If cell contains a number - it shows how many mines\r\n                    are hidden in eight cells around. This number helps determine\r\n                    where the safe cells are.\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <div>\r\n            <h3>\r\n                Tips and hints\r\n            </h3>\r\n            <ul>\r\n                <li>\r\n                    <b>Mark cells with mines.</b> If a cell is supposed to contain a mine -\r\n                    click it with the right mouse button, or hold your touch on the cell\r\n                    for a while, if you are a smartphone or a tablet user. The cell will be\r\n                    marked with a flag.\r\n                </li>\r\n                <li>\r\n                    <b>Explore and memorise possible combinations.</b> If three cells in a row\r\n                    contain the numbers 2-3-2, you can assume that there are three mines\r\n                    along those cells. If a cell contains the number 8,\r\n                    then all cells around it contain mines.\r\n                </li>\r\n                <li>\r\n                    <b>Try to open up unexplored grid areas.</b> Not sure which cell to open next?\r\n                    Try to open another part of the field. It is better to open unexplored\r\n                    areas than those where you have a 50/50 chance to stumble upon a mine.\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </>\r\n);","import React from 'react';\r\nimport { TutorialStatic } from \"../TutorialStatic/TutorialStatic\";\r\nimport './Tutorial.css';\r\n\r\nexport const Tutorial = ({exitHandler}) => (\r\n    <section className=\"tutorial\">\r\n        <button\r\n            className=\"tutorial__exit\"\r\n            aria-label=\"Exit tutorial\"\r\n            onClick={exitHandler} />\r\n        <h2 className=\"tutorial__title\">\r\n            Tutorial\r\n        </h2>\r\n        <div className=\"tutorial__content\">\r\n            <TutorialStatic />\r\n        </div>\r\n    </section>\r\n);","import React from 'react';\r\nimport './RotateBlocker.css';\r\nimport rotateImg from \"./../../img/rotate.png\";\r\n\r\nexport const RotateBlocker = () => (\r\n    <div className=\"rotate-blocker\">\r\n        <img src={rotateImg} alt=\"\"/>\r\n        <p className=\"rotate-blocker__alert\">\r\n            To allow application work properly,<br/>\r\n            please, rotate your screen<br/>\r\n            to a portrait orientation\r\n        </p>\r\n    </div>\r\n);","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAQAAACTbf5ZAAAEiUlEQVR42u2dIWzqThzHPwmiSUNShyATCARmFoWrQ73M4EhIEBUIkhkMjuWRBTeDQJQEgSABQTIxg0Atf4FBTGAwCBSCBLHk/nnNBbLxSpcNStt3n69awtF+dteD/Xa9olAovkeSPDXajHnljSVL3pjxQpc6BdJEBoMCNkuERzaMqJAixGjcMWa3V9rySo8HqhQpUKCIRZ02E1YcxF+pYBA6DGqs9qJDKtwSw50bCrRZ7lu0wzTI4zTYOCf+zog7dL5Olqd92144BnhZ9uyGR5J8B50Sb1K6RZwAk2Eqh2QDg58Qo8DCea8leQJAjBY1PmLJCapHknOgcc/WeccOOlcm45yIDpI4A9kfJuckybPzvnMyXJVb5zTi4JBm7vzcx+DsyJGzIY8LfgtnWTsTjHXBoy2cI1RwwU9h07nO1uS4JAk5HdY5wl/hvDPclj5cYZqcJRr4zkE47/Tughv8IIbtHLWG70hhP3Wlcs85bhm/kcKCFWn8JMbQmb5MDvgqvGa+z4QEl0fnFcEEn7lBcBwTP0jQxsR3TMqf8guFQqFQKBQKheKINGWatEOaR8qk+DImU0QEMsXEEx1bvnzJmC52KDNiKS06aKd1J87LnskSdnK8OC6TU8p9WW6NChXeEXRx4ZdnvShJj1Fg0yfNZyxZbPwrMwQDTlEJxGTknibHjBDM4Jis0yTDKaoIVjQDmTcELdfq2y1H1ORvwkv4P4LJwEUY5gjuOaKLoB1JYRtB5+9j/SGSwo8IhhwxRtCIpHATwUgJK2ElrISDhRJWwkpYCf9bwiZtJrzwQCr6wrrTXIYd1agLj2X5q05TLuK1oiz8sbal0UewxYiu8OhTbUtnjaAcXeEFguJR+fZJCQeLHwgPP5VE4lEf0nkEgsqHZbubKE9ayE/hKQ1a8t9SpSh/LIFGF7HPFivqXzwAsrQYM6RGMvpfLf/JPx6UsBIOFkpYCSthJayElXCA8BBWSx7oIuhEUtj+Y6aWLcmFabeewitagYzHwjS3pYfDyC09HLuOSlmAt3Angc0gsOmRcumiPC705F4KUaHKOwLbe4H4CznCTo4X6aJxAo0OwskqtLcAdBmzkhZtNDwxmQRiCvppJph8mRQlfgfilpzv5DelcOzFpVAoFAqFQqHwmwQ3n6LjOylscvhBFXGUNQY+U0ewIcNl8C4sZfCZBEsES5K+Duk0s2sJwy0bBHMS+IXG+Eo9LMmxlcp+6j5eTxhMdggWpLg0hqxRNTCuKLzfqnVFlktyI6/dOlxX+LAZ744SlyJ32O43CMKQktst28Q5NzHqvCO3Ww6KMMTpI5yrOXeRTdjnZCBIwgAWW9nPCc6BToOdrC7rHIgxZYZOAEjLivaGOgY/QcNiFaRN8d0pspLSDyT5DgZVFvKOqWYwevI0OvVvPtgihkmHrWxrh6mYblDj8CCSseejS9IU6bLet3gK06NLkMTIM2CHkNkxo88j95QpUqBEhQZdpmw+bPtlhfHhNAfi3NFhgfDImgEWSSJDApMqT4yYMmfBgjdeeaZDjbswXa0KRaD4H00Xj4fYuJVMAAAAAElFTkSuQmCC\"","import React from 'react';\r\nimport './Result.css';\r\n\r\nexport const Result = ({\r\n   result,\r\n   timeProceed,\r\n   history\r\n}) => {\r\n    const date = new Date();\r\n    const day = date.getDate() > 9\r\n        ? date.getDate()\r\n        : `0${date.getDate()}`;\r\n    const month = (date.getMonth() + 1) > 9\r\n        ? date.getMonth() + 1\r\n        : `0${date.getMonth() + 1}`;\r\n    const {bestTime, gamesPlayed, gamesWon} = history;\r\n\r\n    return (\r\n        <div className=\"result\">\r\n            <p>\r\n                {\r\n                    result === 'win'\r\n                        ? 'Congratulations, you won!'\r\n                        : (<span>Sorry, you lost this game.<br/>\r\n                            Better luck next time!</span>)\r\n                }\r\n            </p>\r\n            {\r\n                result === 'win' && timeProceed === bestTime\r\n                    ? (<p>\r\n                        You've showed your best time for this level of difficulty!\r\n                    </p>)\r\n                    : null\r\n            }\r\n            <div className=\"result__stats\">\r\n                <p>\r\n                    Time: {timeProceed} seconds\r\n                </p>\r\n                <p>\r\n                    Date: {`${day}.${month}.${date.getFullYear()}`}\r\n                </p>\r\n            </div>\r\n            <div>\r\n                <div className=\"result__stats result__stats--history\">\r\n                    <p>\r\n                        Best time: {bestTime} seconds\r\n                    </p>\r\n                </div>\r\n                <div className=\"result__stats result__stats--history\">\r\n                    <p>\r\n                        Games played: {gamesPlayed}\r\n                    </p>\r\n                </div>\r\n                <div className=\"result__stats result__stats--history\">\r\n                    <p>\r\n                        Games won: {gamesWon}\r\n                    </p>\r\n                    <p>\r\n                        Percentage: {Math.round((gamesWon / gamesPlayed) * 100)}%\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};","import React from 'react';\r\nimport { Result } from \"../Result/Result\";\r\nimport './Modal.css';\r\n\r\nexport const Modal = ({\r\n      content,\r\n      result,\r\n      timeProceed,\r\n      history,\r\n      hideModalHandler,\r\n      btn1Name,\r\n      btn1Action,\r\n      btn2Name,\r\n      btn2Action\r\n}) => (\r\n    <div className=\"modal\">\r\n        <div className={`modal__window${!hideModalHandler ? ' modal__window--no-close' : ''}`}>\r\n            {\r\n                hideModalHandler\r\n                    ? (<button\r\n                        className=\"modal__close\"\r\n                        aria-label=\"Close modal window\"\r\n                        onClick={hideModalHandler} />)\r\n                    : null\r\n            }\r\n            {\r\n                content\r\n                    ? (<p className=\"modal__txt\">\r\n                        {content}\r\n                    </p>)\r\n                    : <Result\r\n                        result={result}\r\n                        timeProceed={timeProceed}\r\n                        history={history} />\r\n            }\r\n            <div className=\"modal__btn-wrap\">\r\n                <button className=\"modal__btn\" onClick={btn1Action}>\r\n                    {btn1Name}\r\n                </button>\r\n                <button className=\"modal__btn\" onClick={btn2Action}>\r\n                    {btn2Name}\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n);","import React from 'react';\r\nimport './Loader.css';\r\n\r\nexport const Loader = ({loaderState}) => (\r\n    <div className={`loader${loaderState === 'hidden'\r\n            ? ' loader--hidden' : ''}`}>\r\n        <div className=\"loader__spinner\">\r\n            <div className=\"loader__spinner-inner\">\r\n                <div />\r\n            </div>\r\n        </div>\r\n    </div>\r\n);","import React, { Component } from 'react';\r\nimport { Menu } from \"./components/Menu/Menu\";\r\nimport { Game } from \"./components/Game/Game\";\r\nimport { Settings } from \"./components/Settings/Settings\";\r\nimport { Tutorial } from \"./components/Tutorial/Tutorial\";\r\nimport { RotateBlocker } from \"./components/RotateBlocker/RotateBlocker\";\r\nimport { Modal } from \"./components/Modal/Modal\";\r\nimport { Loader } from \"./components/Loader/Loader\";\r\nimport { gameTemplate, historyTemplate, minesAmount, cellTemplate } from \"./data/data\";\r\nimport './App.css';\r\n\r\nexport class App extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.version = 'v0.5';\r\n        this.state = {\r\n            loaderState: 'visible',\r\n            modalHidden: false,\r\n            displayedBlock: '',\r\n            displayedModal: '',\r\n            flagMode: false,\r\n            game: (localStorage.getItem('_hv-m-v') !== this.version)\r\n                ? gameTemplate(this.generateCellsEmptyData(9, 9))\r\n                : JSON.parse(localStorage.getItem('_hv-m-g'))\r\n                || gameTemplate(this.generateCellsEmptyData(9, 9)),\r\n            history: JSON.parse(\r\n                localStorage.getItem('_hv-m-h'),\r\n                (key, value) => value === null ? Infinity : value\r\n            ) || {\r\n                '9x9': historyTemplate,\r\n            },\r\n        };\r\n        this.minesAmount = minesAmount;\r\n        this.gameLayoutMode = '';\r\n        this.timerInterval = null;\r\n        this.touchTimer = null;\r\n        this.resizeAppBlock = this.resizeAppBlock.bind(this);\r\n        this.runTimer = this.runTimer.bind(this);\r\n        this.pauseTimer = this.pauseTimer.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        // if got unfinished game from storage\r\n        if (this.state.game.inProgress) {\r\n            this.switchBlockHandler('game');\r\n            this.switchModalHandler('unfinished');\r\n        }\r\n\r\n        if (localStorage.getItem('_hv-m-v') !== this.version) {\r\n            // todo notify user about new version features (switchModalHandler)\r\n            localStorage.setItem('_hv-m-v', this.version);\r\n        }\r\n\r\n        this.resizeAppBlock();\r\n        window.addEventListener('resize', this.resizeAppBlock);\r\n\r\n        setTimeout(() => {\r\n            this.setLoaderState('hidden');\r\n        }, 500);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        const {rows, cols, safeCellsRevealed, difficulty, inProgress} = this.state.game;\r\n\r\n        // winning scenario - all safe cells revealed\r\n        if (rows * cols - safeCellsRevealed === this.minesAmount[difficulty]\r\n            && inProgress) {\r\n            this.setWinState();\r\n        }\r\n\r\n        localStorage.setItem('_hv-m-g', JSON.stringify(this.state.game));\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('resize', this.resizeAppBlock);\r\n    }\r\n\r\n    resizeAppBlock() {\r\n        this.appRef.style.height = `${window.innerHeight}px`;\r\n        this.setGameLayoutMode(\r\n            window.innerHeight, window.innerWidth,\r\n            this.state.game.cols, this.state.game.rows);\r\n    }\r\n\r\n    runTimer(force) {\r\n        window.removeEventListener('focus', this.runTimer);\r\n        window.addEventListener('blur', this.pauseTimer);\r\n\r\n        if (force === true || this.state.game.inProgress) {\r\n            this.initTimer();\r\n        }\r\n    }\r\n\r\n    pauseTimer() {\r\n        window.removeEventListener('blur', this.pauseTimer);\r\n        window.addEventListener('focus', this.runTimer);\r\n\r\n        clearInterval(this.timerInterval);\r\n    }\r\n\r\n    initTimer = () => {\r\n        this.timerInterval = setInterval(() => {\r\n            this.setState(prevState => ({\r\n                game: {\r\n                    ...prevState.game,\r\n                    timeProceed: prevState.game.timeProceed + 1,\r\n                }\r\n            }));\r\n        }, 1000);\r\n    };\r\n\r\n    setWinState = () => {\r\n        // 1. stop timer\r\n        this.pauseTimer();\r\n        // 2. mark game as not ready for interact + as won\r\n        this.setState(prevState => ({\r\n            game: {\r\n                ...prevState.game,\r\n                inProgress: false,\r\n                result: 'win',\r\n            }\r\n        }));\r\n        // 3. save result to players history\r\n        this.setHistoryState(true);\r\n        // 4. trigger fancy mines-reveal animation\r\n        this.defuseMines();\r\n        // 5. after animation played - show results modal\r\n        setTimeout(() => {\r\n            this.switchModalHandler('result');\r\n        }, 5000);\r\n    };\r\n\r\n    setLoseState = (x, y) => {\r\n        // 1. stop timer\r\n        this.pauseTimer();\r\n        // 2. mark game as not ready for interact + as won\r\n        this.setState(prevState => ({\r\n            game: {\r\n                ...prevState.game,\r\n                inProgress: false,\r\n                result: 'lose',\r\n            }\r\n        }));\r\n        // 3. save result to players history\r\n        this.setHistoryState(false);\r\n        // 4. trigger mines-reveal process\r\n        this.revealMinesWhenLost(x, y);\r\n        // 5. after a while - show results modal\r\n        setTimeout(() => {\r\n            this.switchModalHandler('result');\r\n        }, 4000);\r\n    };\r\n\r\n    setHistoryState = (gameWon) => {\r\n        this.setState(prevState => {\r\n            const levelData = prevState.history[prevState.game.difficulty] || historyTemplate;\r\n            const newLevelData = {\r\n                bestTime: (gameWon && prevState.game.timeProceed < levelData.bestTime)\r\n                    ? prevState.game.timeProceed : levelData.bestTime,\r\n                gamesPlayed: levelData.gamesPlayed + 1,\r\n                gamesWon: gameWon ? levelData.gamesWon + 1 : levelData.gamesWon,\r\n                longestWinStreak: (gameWon && levelData.longestWinStreak === levelData.currentWinStreak)\r\n                    ? levelData.longestWinStreak + 1 : levelData.longestWinStreak,\r\n                longestLoseStreak: (!gameWon && levelData.longestLoseStreak === levelData.currentLoseStreak)\r\n                    ? levelData.longestLoseStreak + 1 : levelData.longestLoseStreak,\r\n                currentWinStreak: gameWon ? levelData.currentWinStreak + 1 : 0,\r\n                currentLoseStreak: !gameWon ? levelData.currentLoseStreak + 1 : 0,\r\n            };\r\n            const updatedHistory = {\r\n                ...prevState.history,\r\n                [prevState.game.difficulty]: newLevelData,\r\n            };\r\n\r\n            localStorage.setItem('_hv-m-h', JSON.stringify(updatedHistory));\r\n\r\n            return {\r\n                history: updatedHistory,\r\n            }\r\n        });\r\n    };\r\n\r\n    switchBlockHandler = (displayedBlock) => {\r\n        if (displayedBlock === 'new-game') {\r\n            // reset data only if 'New Game' triggered\r\n            this.resetGameData();\r\n        }\r\n\r\n        this.setState({\r\n            displayedBlock,\r\n        })\r\n    };\r\n\r\n    switchModalHandler = (displayedModal) => {\r\n        this.setState({\r\n            displayedModal,\r\n        });\r\n    };\r\n\r\n    toggleModalVisibilityHandler = (hide) => {\r\n        this.setState({\r\n            modalHidden: hide,\r\n        })\r\n    };\r\n\r\n    leaveGameHandler = () => {\r\n        this.state.game.inProgress\r\n            ? this.switchModalHandler('leave-confirm')\r\n            : this.enterMenuWithoutModal();\r\n    };\r\n\r\n    leaveGameConfirm = () => {\r\n        this.enterMenuWithoutModal();\r\n        this.setHistoryState(false);\r\n        this.setState(prevState => ({\r\n            game: {\r\n                ...prevState.game,\r\n                inProgress: false,\r\n            }\r\n        }));\r\n        clearInterval(this.timerInterval);\r\n    };\r\n\r\n    continueGameConfirm = () => {\r\n        this.switchModalHandler('');\r\n        this.runTimer();\r\n    };\r\n\r\n    enterMenuWithoutModal = () => {\r\n        this.switchBlockHandler('menu');\r\n        this.switchModalHandler('');\r\n        this.toggleModalVisibilityHandler(false);\r\n    };\r\n\r\n    prepareNewGame = () => {\r\n        this.resetGameData();\r\n        this.switchModalHandler('');\r\n    };\r\n\r\n    resetGameData = () => {\r\n        this.setState(prevState => ({\r\n            game: {\r\n                ...prevState.game,\r\n                cells: this.generateCellsEmptyData(prevState.game.cols, prevState.game.rows),\r\n                started: false,\r\n                inProgress: false,\r\n                timeProceed: 0,\r\n                flaggedAmount: 0,\r\n                safeCellsRevealed: 0,\r\n                result: null,\r\n            }\r\n        }))\r\n    };\r\n\r\n    generateCellsEmptyData = (colsNum, rowsNum) => {\r\n        const cellsArr = [];\r\n\r\n        for (let i = 0; i < colsNum; i++) {\r\n            const colArr = [];\r\n            for (let j = 0; j < rowsNum; j++) {\r\n                colArr.push(cellTemplate);\r\n            }\r\n            cellsArr.push(colArr);\r\n        }\r\n\r\n        return cellsArr;\r\n    };\r\n\r\n    changeDifficulty = (difficulty) => {\r\n        const [, cols, rows] = /(\\d+)x(\\d+)/.exec(difficulty);\r\n\r\n        this.setGameLayoutMode(window.innerHeight, window.innerWidth, cols, rows);\r\n        this.setState(prevState => ({\r\n            game: {\r\n                ...prevState.game,\r\n                cols: parseInt(cols),\r\n                rows: parseInt(rows),\r\n                cells: this.generateCellsEmptyData(cols, rows),\r\n                difficulty,\r\n            },\r\n        }))\r\n    };\r\n\r\n    toggleFlagMode = () => {\r\n        this.setState(prevState => ({\r\n            flagMode: !prevState.flagMode,\r\n        }))\r\n    };\r\n\r\n    setMines = (x, y) => {\r\n        this.setState(prevState => {\r\n            const minesIdCollection = {};\r\n            let minesCount = 0;\r\n\r\n            while (minesCount < this.minesAmount[prevState.game.difficulty]) {\r\n                const randCol = Math.floor(Math.random() * prevState.game.cols);\r\n                const randRow = Math.floor(Math.random() * prevState.game.rows);\r\n                const mineId = `${randCol}x${randRow}`;\r\n\r\n                if (!(mineId in minesIdCollection) && !(x - 2 < randCol && x + 2 > randCol\r\n                    && y - 2 < randRow && y + 2 > randRow)) {\r\n                    minesIdCollection[mineId] = true;\r\n                    minesCount += 1;\r\n                }\r\n            }\r\n\r\n            const cells = prevState.game.cells.map((subArr, x) => {\r\n                return subArr.map((cell, y) => {\r\n                    if (`${x}x${y}` in minesIdCollection) {\r\n                        return {\r\n                            ...cell,\r\n                            mine: true,\r\n                        }\r\n                    }\r\n\r\n                    return cell;\r\n                });\r\n            });\r\n\r\n            return {\r\n                game: {\r\n                    ...prevState.game,\r\n                    cells,\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    startGame = (x, y) => {\r\n        this.setMines(x, y);\r\n        this.setState(prevState => ({\r\n            game: {\r\n                ...prevState.game,\r\n                started: true,\r\n                inProgress: true,\r\n            }\r\n        }));\r\n        this.runTimer(true);\r\n        this.setRevealedCellsState(x, y);\r\n    };\r\n\r\n    clickOnCellHandler = (col, row) => {\r\n        const {flagMode, game: {inProgress, cells, safeCellsRevealed}} = this.state;\r\n        const cell = cells[col][row];\r\n\r\n        if (!inProgress && safeCellsRevealed === 0) {\r\n            this.startGame(col, row);\r\n\r\n        } else if (inProgress && flagMode) {\r\n            this.toggleFlagOnCellHandler(col, row);\r\n\r\n        } else if (inProgress && !cell.flagged && !cell.opened && cell.mine) {\r\n            this.setLoseState(col, row);\r\n\r\n        } else if (inProgress) {\r\n            this.setRevealedCellsState(col, row);\r\n        }\r\n    };\r\n\r\n    revealCell = (gameState, x, y) => {\r\n        let updatedGameState = {...gameState};\r\n        let cells = [...updatedGameState.cells];\r\n\r\n        if (cells[x] && cells[x][y] && !cells[x][y].opened && !cells[x][y].flagged) {\r\n            cells[x][y] = {\r\n                ...cells[x][y],\r\n                opened: true,\r\n            };\r\n\r\n            updatedGameState = {\r\n                ...updatedGameState,\r\n                cells,\r\n            };\r\n\r\n            const minesAround = this.countMinesAround(cells, x, y);\r\n\r\n            if (minesAround === 0) {\r\n                return {\r\n                    ...this.revealCell(updatedGameState,x - 1, y - 1),\r\n                    ...this.revealCell(updatedGameState, x, y - 1),\r\n                    ...this.revealCell(updatedGameState,x + 1, y - 1),\r\n                    ...this.revealCell(updatedGameState,x - 1, y),\r\n                    ...this.revealCell(updatedGameState,x + 1, y),\r\n                    ...this.revealCell(updatedGameState,x - 1, y + 1),\r\n                    ...this.revealCell(updatedGameState, x, y + 1),\r\n                    ...this.revealCell(updatedGameState,x + 1, y + 1),\r\n                }\r\n\r\n            } else {\r\n                cells = [...updatedGameState.cells];\r\n                cells[x][y] = {\r\n                    ...cells[x][y],\r\n                    minesAround,\r\n                };\r\n\r\n                return {\r\n                    ...updatedGameState,\r\n                    cells,\r\n                };\r\n            }\r\n        }\r\n\r\n        return gameState;\r\n    };\r\n\r\n    setRevealedCellsState = (col, row) => {\r\n        this.setState(prevState => {\r\n            const updatedGame = this.revealCell({...prevState.game}, col, row);\r\n            let safeCellsRevealed = 0;\r\n\r\n            updatedGame.cells.forEach(subArr => {\r\n                subArr.forEach(cell => {\r\n                    if (cell.opened && !cell.mine) {\r\n                        safeCellsRevealed += 1;\r\n                    }\r\n                });\r\n            });\r\n\r\n            return {\r\n                game: {\r\n                    ...updatedGame,\r\n                    safeCellsRevealed,\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    defuseMines = () => {\r\n        this.setState(prevState => {\r\n            const cells = prevState.game.cells.map(subArr => {\r\n                return subArr.map(cell => {\r\n                    if (cell.mine) {\r\n                        return {\r\n                            ...cell,\r\n                            opened: true,\r\n                            defused: true,\r\n                        }\r\n                    }\r\n\r\n                    return cell;\r\n                });\r\n            });\r\n\r\n            return {\r\n                game: {\r\n                    ...prevState.game,\r\n                    cells,\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    revealMinesWhenLost = (col, row) => {\r\n        this.setState(prevState => {\r\n            const cells = prevState.game.cells.map((subArr, x) => {\r\n                return subArr.map((cell, y) => {\r\n                    if (col === x && row === y) {\r\n                        return {\r\n                            ...cell,\r\n                            opened: true,\r\n                            blownUp: true,\r\n                        }\r\n\r\n                    } else if (cell.mine) {\r\n                        return {\r\n                            ...cell,\r\n                            opened: true,\r\n                            rightFlagged: true,\r\n                        }\r\n\r\n                    } else if (cell.flagged && !cell.mine) {\r\n                        return {\r\n                            ...cell,\r\n                            opened: true,\r\n                            wrongFlagged: true,\r\n                        }\r\n                    }\r\n\r\n                    return cell;\r\n                });\r\n            });\r\n\r\n            return {\r\n                game: {\r\n                    ...prevState.game,\r\n                    cells,\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    countMinesAround = (cells, x, y) => {\r\n        let count = 0;\r\n\r\n        for (let i = -1; i < 2; i++) {\r\n            if (!cells[x + i]) continue;\r\n\r\n            for (let j = -1; j < 2; j++) {\r\n                if (cells[x + i][y + j] && cells[x + i][y + j].mine) {\r\n                    count += 1;\r\n                }\r\n            }\r\n        }\r\n\r\n        return count;\r\n    };\r\n\r\n    toggleFlagOnCellHandler = (col, row) => {\r\n        if (this.state.game.inProgress) {\r\n            this.setState(prevState => {\r\n                let increment = 1;\r\n                const cells = prevState.game.cells.map((subArr, x) => {\r\n                    return subArr.map((cell, y) => {\r\n                        if (col === x && row === y) {\r\n                            if (cell.flagged) {\r\n                                increment = -1;\r\n                            }\r\n\r\n                            return {\r\n                                ...cell,\r\n                                flagged: !cell.flagged,\r\n                            }\r\n                        }\r\n\r\n                        return cell;\r\n                    });\r\n                });\r\n\r\n                // todo why code below not working?\r\n                // const cells = [...prevState.game.cells];\r\n                // cells[col][row] = {\r\n                //     ...cells[col][row],\r\n                //     flagged: !cells[col][row].flagged,\r\n                // };\r\n                //\r\n                // let increment = cells[col][row].flagged ? 1 : -1;\r\n\r\n                return {\r\n                    game: {\r\n                        ...prevState.game,\r\n                        cells,\r\n                        flaggedAmount: prevState.game.flaggedAmount + increment,\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    };\r\n\r\n    setGameLayoutMode = (appHeight, appWidth, colsNum, rowsNum) => {\r\n        this.setState({\r\n            gameLayoutMode: (appHeight < 568 && rowsNum > 9)\r\n                ? 'game--r16-568'\r\n                : (appWidth < 768 && colsNum > 16)\r\n                    ? 'game--c30-768'\r\n                    : (appWidth < 992 && colsNum > 16)\r\n                        ? 'game--c30-992' : '',\r\n        })\r\n    };\r\n\r\n    setLoaderState = (loaderState) => {\r\n        this.setState({\r\n            loaderState,\r\n        })\r\n    };\r\n\r\n    render() {\r\n        const { displayedBlock, flagMode, gameLayoutMode,\r\n            displayedModal, loaderState, modalHidden,\r\n            game: {\r\n                difficulty,\r\n                timeProceed,\r\n                cols,\r\n                rows,\r\n                cells,\r\n                started,\r\n                inProgress,\r\n                flaggedAmount,\r\n                result,\r\n            },\r\n        } = this.state;\r\n        const minesLeft = this.minesAmount[difficulty] - flaggedAmount;\r\n        const history = this.state.history[difficulty];\r\n\r\n        return (\r\n            <main\r\n                className={`app${modalHidden ? ' app--modal-hidden' : ''}`}\r\n                ref={(appRef) => this.appRef = appRef}>\r\n                <div className=\"app__container\">\r\n                    {\r\n                        displayedBlock.includes('game', 'new-game')\r\n                            ? <Game\r\n                                layoutMode={gameLayoutMode}\r\n                                started={started}\r\n                                inProgress={inProgress}\r\n                                cols={cols}\r\n                                rows={rows}\r\n                                cells={cells}\r\n                                timeProceed={timeProceed}\r\n                                flagMode={flagMode}\r\n                                minesLeft={minesLeft}\r\n                                leaveGameHandler={this.leaveGameHandler}\r\n                                toggleFlagMode={this.toggleFlagMode}\r\n                                clickOnCellHandler={this.clickOnCellHandler}\r\n                                toggleFlagOnCellHandler={this.toggleFlagOnCellHandler} />\r\n                            : displayedBlock === 'settings'\r\n                                ? <Settings\r\n                                    difficulty={difficulty}\r\n                                    history={history}\r\n                                    changeDifficulty={this.changeDifficulty}\r\n                                    returnHandler={() => {this.switchBlockHandler('menu')}} />\r\n                                : displayedBlock === 'tutorial'\r\n                                    ? <Tutorial\r\n                                        exitHandler={() => {this.switchBlockHandler('menu')}}  />\r\n                                    : <Menu\r\n                                        switchBlockHandler={this.switchBlockHandler} />\r\n                    }\r\n                </div>\r\n                <RotateBlocker />\r\n                {\r\n                    displayedModal === 'leave-confirm'\r\n                    ? <Modal\r\n                        content={'Are you sure you want to leave to menu? Game progress will be lost.'}\r\n                        btn1Name={'Leave'}\r\n                        btn2Name={'Stay'}\r\n                        btn1Action={this.leaveGameConfirm.bind(this)}\r\n                        btn2Action={() => {this.switchModalHandler('')}}\r\n                        hideModalHandler={() => {this.switchModalHandler('')}} />\r\n                    : displayedModal === 'unfinished'\r\n                    ? <Modal\r\n                        content={'You have an unfinished game. Would you like to continue?'}\r\n                        btn1Name={'To Menu'}\r\n                        btn2Name={'Continue'}\r\n                        btn1Action={this.leaveGameConfirm.bind(this)}\r\n                        btn2Action={this.continueGameConfirm.bind(this)} />\r\n                    : displayedModal === 'result'\r\n                    ? <Modal\r\n                        result={result}\r\n                        timeProceed={timeProceed}\r\n                        history={history}\r\n                        btn1Name={'To Menu'}\r\n                        btn2Name={'New Game'}\r\n                        btn1Action={this.enterMenuWithoutModal.bind(this)}\r\n                        btn2Action={this.prepareNewGame.bind(this)}\r\n                        hideModalHandler={() => {this.toggleModalVisibilityHandler(true)}} />\r\n                    : null\r\n                }\r\n                <Loader loaderState={loaderState} />\r\n                <button\r\n                    className=\"app__modal-btn\"\r\n                    aria-label=\"Show modal window again\"\r\n                    onClick={() => {this.toggleModalVisibilityHandler(false)}} />\r\n            </main>\r\n        );\r\n    }\r\n}\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n    window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register () {\r\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n        // The URL constructor is available in all browsers that support SW.\r\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n        if (publicUrl.origin !== window.location.origin) {\r\n            // Our service worker won't work if PUBLIC_URL is on a different origin\r\n            // from what our page is served on. This might happen if a CDN is used to\r\n            // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n            return\r\n        }\r\n\r\n        window.addEventListener('load', () => {\r\n            const swUrl = `${process.env.PUBLIC_URL}/sw.js`;\r\n\r\n            if (!isLocalhost) {\r\n                // Is not local host. Just register service worker\r\n                registerValidSW(swUrl)\r\n            } else {\r\n                // This is running on localhost. Lets check if a service worker still exists or not.\r\n                checkValidServiceWorker(swUrl)\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nfunction registerValidSW (swUrl) {\r\n    navigator.serviceWorker\r\n        .register(swUrl, {scope: `${process.env.PUBLIC_URL}/`})\r\n        .then(registration => {\r\n            registration.onupdatefound = () => {\r\n                const installingWorker = registration.installing;\r\n                installingWorker.onstatechange = () => {\r\n                    if (installingWorker.state === 'installed') {\r\n                        if (navigator.serviceWorker.controller) {\r\n                            // At this point, the old content will have been purged and\r\n                            // the fresh content will have been added to the cache.\r\n                            // It's the perfect time to display a \"New content is\r\n                            // available; please refresh.\" message in your web app.\r\n                            console.debug('New content is available; please refresh.')\r\n                        } else {\r\n                            // At this point, everything has been precached.\r\n                            // It's the perfect time to display a\r\n                            // \"Content is cached for offline use.\" message.\r\n                            console.debug('Content is cached for offline use.')\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.error('Error during service worker registration:', error)\r\n        })\r\n}\r\n\r\nfunction checkValidServiceWorker (swUrl) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl)\r\n        .then(response => {\r\n            // Ensure service worker exists, and that we really are getting a JS file.\r\n            if (\r\n                response.status === 404 ||\r\n                response.headers.get('content-type').indexOf('javascript') === -1\r\n            ) {\r\n                // No service worker found. Probably a different app. Reload the page.\r\n                navigator.serviceWorker.ready.then(registration => {\r\n                    registration.unregister().then(() => {\r\n                        window.location.reload()\r\n                    })\r\n                })\r\n            } else {\r\n                // Service worker found. Proceed as normal.\r\n                registerValidSW(swUrl)\r\n            }\r\n        })\r\n        .catch(() => {\r\n            console.debug(\r\n                'No internet connection found. App is running in offline mode.'\r\n            )\r\n        })\r\n}\r\n\r\nexport function unregister () {\r\n    if ('serviceWorker' in navigator) {\r\n        navigator.serviceWorker.ready.then(registration => {\r\n            registration.unregister()\r\n        })\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { App } from './App';\r\nimport './index.css';\r\nimport registerServiceWorker from './registerServiceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\nregisterServiceWorker();"],"sourceRoot":""}