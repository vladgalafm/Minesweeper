{"version":3,"sources":["components/MenuBtn/MenuBtn.js","components/Menu/Menu.js","components/GameHeader/GameHeader.js","components/GameCell/GameCell.js","components/GameColumn/GameColumn.js","components/GameField/GameField.js","components/Game/Game.js","components/DiffOption/DiffOption.js","data/data.js","components/DiffSelect/DiffSelect.js","components/DiffHistory/DiffHistory.js","components/Settings/Settings.js","components/TutorialStatic/TutorialStatic.js","components/Tutorial/Tutorial.js","components/RotateBlocker/RotateBlocker.js","img/rotate.png","components/Result/Result.js","components/UpdateStatic/UpdateStatic.js","components/Modal/Modal.js","components/Loader/Loader.js","App.js","registerServiceWorker.js","index.js"],"names":["MenuBtn","title","switchBlockHandler","className","onClick","Menu","GameHeader","inProgress","timeProceed","flagMode","minesLeft","leaveGameHandler","toggleFlagMode","disabled","GameCell","started","colIndex","rowIndex","cell","clickOnCellHandler","toggleFlagOnCellHandler","opened","mine","minesAround","flagged","defused","blownUp","rightFlagged","wrongFlagged","delay","Math","max","min","style","animationDelay","onContextMenu","e","preventDefault","GameColumn","rows","cellsCol","rowsArray","Array","apply","length","map","item","index","GameField","cols","cells","colsArray","Game","layoutMode","DiffOption","value","label","mines","selected","type","id","name","defaultChecked","htmlFor","minesAmount","difficultyOptions","option","historyTemplate","bestTime","Infinity","gamesPlayed","gamesWon","longestWinStreak","longestLoseStreak","currentWinStreak","currentLoseStreak","gameTemplate","cellsData","difficulty","flaggedAmount","safeCellsRevealed","result","cellTemplate","DiffSelect","selectedDifficulty","changeDifficulty","onChange","event","target","DiffHistory","round","Settings","history","returnHandler","aria-label","TutorialStatic","Tutorial","exitHandler","RotateBlocker","src","alt","Result","date","Date","day","getDate","month","getMonth","getFullYear","UpdateStatic","version","Modal","content","updateVersion","hideModalHandler","btn1Name","btn1Action","btn2Name","btn2Action","Loader","loaderState","App","props","initTimer","timerInterval","setInterval","setState","prevState","game","setWinState","pauseTimer","setHistoryState","defuseMines","setTimeout","switchModalHandler","setLoseState","x","y","revealMinesWhenLost","gameWon","levelData","newLevelData","updatedHistory","localStorage","setItem","JSON","stringify","displayedBlock","resetGameData","displayedModal","toggleModalVisibilityHandler","hide","modalHidden","state","enterMenuWithoutModal","leaveGameConfirm","clearInterval","continueGameConfirm","runTimer","confirmUpdateNotification","prepareNewGame","generateCellsEmptyData","colsNum","rowsNum","cellsArr","i","colArr","j","push","exec","setGameLayoutMode","window","innerHeight","innerWidth","parseInt","setMines","minesIdCollection","minesCount","randCol","floor","random","randRow","mineId","subArr","startGame","setRevealedCellsState","col","row","revealCell","gameState","updatedGameState","countMinesAround","updatedGame","forEach","count","increment","appHeight","appWidth","gameLayoutMode","setLoaderState","getItem","parse","key","resizeAppBlock","bind","this","removeItem","addEventListener","removeEventListener","appRef","height","force","ref","includes","Component","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","scope","process","then","registration","onupdatefound","installingWorker","installing","onstatechange","controller","console","debug","catch","error","ReactDOM","render","StrictMode","document","getElementById","URL","origin","fetch","response","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.b3bd7353.chunk.js","sourcesContent":["import React from 'react';\r\nimport './MenuBtn.css';\r\n\r\nexport const MenuBtn = ({title, switchBlockHandler}) => (\r\n    <button className=\"menu-btn\" onClick={switchBlockHandler}>\r\n        {title}\r\n    </button>\r\n);","import React from 'react';\r\nimport './Menu.css';\r\nimport {MenuBtn} from \"../MenuBtn/MenuBtn\";\r\n\r\nexport const Menu = ({switchBlockHandler}) => (\r\n    <section className=\"menu\">\r\n        <h1 className=\"menu__title\">\r\n            Minesweeper\r\n        </h1>\r\n        <div className=\"menu__btn-wrap\">\r\n            <MenuBtn\r\n                title=\"New game\"\r\n                switchBlockHandler={() => {switchBlockHandler('new-game')}} />\r\n            <MenuBtn\r\n                title=\"Settings\"\r\n                switchBlockHandler={() => {switchBlockHandler('settings')}} />\r\n            <MenuBtn\r\n                title=\"Tutorial\"\r\n                switchBlockHandler={() => {switchBlockHandler('tutorial')}} />\r\n        </div>\r\n    </section>\r\n);","import React from 'react';\r\nimport './GameHeader.css';\r\n\r\nexport const GameHeader = ({\r\n   inProgress,\r\n   timeProceed,\r\n   flagMode,\r\n   minesLeft,\r\n   leaveGameHandler,\r\n   toggleFlagMode\r\n}) => (\r\n    <div className=\"game-header\">\r\n        <div className=\"game-header__content\">\r\n            <button className=\"game-header__leave\" onClick={() => {leaveGameHandler()}} />\r\n            <div className=\"game-header__info\">\r\n                <div className=\"game-header__icon\" />\r\n                <div className=\"game-header__count\">\r\n                    {timeProceed}\r\n                </div>\r\n            </div>\r\n            <div className=\"game-header__info\">\r\n                <div className=\"game-header__count\">\r\n                    {minesLeft}\r\n                </div>\r\n                <div className=\"game-header__icon game-header__icon--bomb\" />\r\n            </div>\r\n            <button\r\n                className={`game-header__flag${flagMode ? ' game-header__flag--active' : ''}`}\r\n                onClick={toggleFlagMode}\r\n                disabled={!inProgress} />\r\n        </div>\r\n    </div>\r\n);","import React from 'react';\r\nimport './GameCell.css';\r\n\r\nexport const GameCell = ({\r\n     started,\r\n     colIndex,\r\n     rowIndex,\r\n     cell,\r\n     clickOnCellHandler,\r\n     toggleFlagOnCellHandler\r\n}) => {\r\n    const {\r\n        opened,\r\n        mine,\r\n        minesAround,\r\n        flagged,\r\n        defused,\r\n        blownUp,\r\n        rightFlagged,\r\n        wrongFlagged\r\n    } = cell;\r\n    const maxIndex = Math.max(colIndex + 1, rowIndex + 1);\r\n    const delay = maxIndex + Math.min(colIndex + 1, rowIndex + 1);\r\n    const style = {\r\n        animationDelay: `${delay * 0.008}s`,\r\n    };\r\n\r\n    return (\r\n        <div className={`game-cell${opened ? ' game-cell--opened' : ''}\r\n            ${flagged ? ' game-cell--flagged' : ''}\r\n            ${defused ? ' game-cell--defused' : ''}\r\n            ${blownUp ? ' game-cell--blown-up' : rightFlagged\r\n                ? ' game-cell--right-flagged' : wrongFlagged\r\n                ? ' game-cell--wrong-flagged' : ''}\r\n            ${!started ? ` game-cell--flashlight` : ''}`}\r\n             style={(!started && style) || {}}\r\n             onContextMenu={(e) => {e.preventDefault()}} >\r\n            <button className={`game-cell__btn ${(opened && mine)\r\n                ? 'game-cell__btn--mine' : (opened && minesAround > 0)\r\n                    ? `game-cell__btn--${minesAround}` : ''}`} disabled={opened}\r\n                    onClick={clickOnCellHandler}\r\n                    onContextMenu={toggleFlagOnCellHandler} />\r\n        </div>\r\n    );\r\n};","import React from 'react';\r\nimport { GameCell } from \"../GameCell/GameCell\";\r\nimport './GameColumn.css';\r\n\r\nexport const GameColumn = ({\r\n       started,\r\n       rows,\r\n       colIndex,\r\n       cellsCol,\r\n       clickOnCellHandler,\r\n       toggleFlagOnCellHandler\r\n}) => {\r\n    const rowsArray = Array.apply(null, {length: rows});\r\n\r\n    return (\r\n        <div className=\"game-column\">\r\n            {rowsArray.map((item, index) => (\r\n                <GameCell\r\n                    key={index}\r\n                    started={started}\r\n                    colIndex={colIndex}\r\n                    rowIndex={index}\r\n                    cell={cellsCol[index]}\r\n                    clickOnCellHandler={() => clickOnCellHandler(colIndex, index)}\r\n                    toggleFlagOnCellHandler={(e) => {\r\n                        e.preventDefault();\r\n                        toggleFlagOnCellHandler(colIndex, index)\r\n                    }} />\r\n            ))}\r\n        </div>\r\n    );\r\n};","import React from 'react';\r\nimport { GameColumn } from \"../GameColumn/GameColumn\";\r\nimport './GameField.css';\r\n\r\nexport const GameField = ({\r\n      started,\r\n      cols,\r\n      rows,\r\n      cells,\r\n      clickOnCellHandler,\r\n      toggleFlagOnCellHandler\r\n}) => {\r\n    const colsArray = Array.apply(null, {length: cols});\r\n\r\n    return (\r\n        <div className=\"game-field\">\r\n            <div className=\"game-field__content\">\r\n                {colsArray.map((item, index) => (\r\n                    <GameColumn\r\n                        key={index}\r\n                        started={started}\r\n                        colIndex={index}\r\n                        rows={rows}\r\n                        cellsCol={cells[index]}\r\n                        clickOnCellHandler={clickOnCellHandler}\r\n                        toggleFlagOnCellHandler={toggleFlagOnCellHandler} />\r\n                ))}\r\n            </div>\r\n        </div>\r\n    );\r\n};","import React from 'react';\r\nimport { GameHeader } from \"../GameHeader/GameHeader\";\r\nimport { GameField } from \"../GameField/GameField\";\r\nimport './Game.css';\r\n\r\nexport const Game = ({\r\n     layoutMode,\r\n     started,\r\n     inProgress,\r\n     cols,\r\n     rows,\r\n     cells,\r\n     timeProceed,\r\n     flagMode,\r\n     minesLeft,\r\n     leaveGameHandler,\r\n     toggleFlagMode,\r\n     clickOnCellHandler,\r\n     toggleFlagOnCellHandler\r\n}) => (\r\n    <div className={`game ${layoutMode}${cols > 9 ? ' game--wide' : ''}` + `${started && !inProgress\r\n        ? ' game--finished' : ''}`}>\r\n        <GameHeader\r\n            inProgress={inProgress}\r\n            timeProceed={timeProceed}\r\n            flagMode={flagMode}\r\n            minesLeft={minesLeft}\r\n            leaveGameHandler={leaveGameHandler}\r\n            toggleFlagMode={toggleFlagMode} />\r\n        <GameField\r\n            started={started}\r\n            cols={cols}\r\n            rows={rows}\r\n            cells={cells}\r\n            clickOnCellHandler={clickOnCellHandler}\r\n            toggleFlagOnCellHandler={toggleFlagOnCellHandler} />\r\n    </div>\r\n);","import React from 'react';\r\nimport './DiffOption.css';\r\n\r\nexport const DiffOption = ({value, label, mines, selected}) => (\r\n    <div className={`diff-option diff-option--${value}`}>\r\n        <input className=\"diff-option__input\"\r\n               type=\"radio\"\r\n               value={value}\r\n               id={value}\r\n               name=\"difficulty\"\r\n               defaultChecked={selected} />\r\n        <label className=\"diff-option__label\"\r\n               htmlFor={value}>\r\n            {label}<br/>\r\n            {value} grid, {mines} mines\r\n        </label>\r\n    </div>\r\n);","export const minesAmount = {\r\n    '9x9': 10,\r\n    '9x16': 20,\r\n    '16x16': 40,\r\n    '30x16': 99,\r\n};\r\n\r\nexport const difficultyOptions = [\r\n    { value: '9x9', label: 'Beginner' },\r\n    { value: '9x16', label: 'Amateur' },\r\n    { value: '16x16', label: 'Intermediate' },\r\n    { value: '30x16', label: 'Expert' },\r\n].map(option => ({\r\n    ...option,\r\n    mines: minesAmount[option.value],\r\n}));\r\n\r\n\r\n\r\nexport const historyTemplate = {\r\n    bestTime: Infinity,\r\n    gamesPlayed: 0,\r\n    gamesWon: 0,\r\n    longestWinStreak: 0,\r\n    longestLoseStreak: 0,\r\n    currentWinStreak: 0,\r\n    currentLoseStreak: 0,\r\n};\r\n\r\nexport const gameTemplate = cellsData => ({\r\n    difficulty: '9x9',\r\n    cols: 9,\r\n    rows: 9,\r\n    cells: cellsData,\r\n    started: false,\r\n    inProgress: false,\r\n    timeProceed: 0,\r\n    flaggedAmount: 0,\r\n    safeCellsRevealed: 0,\r\n    result: null,\r\n});\r\n\r\nexport const cellTemplate = {\r\n    opened: false,\r\n    mine: false,\r\n    minesAround: 0,\r\n    flagged: false,\r\n    defused: false,\r\n    blownUp: false,\r\n    rightFlagged: false,\r\n    wrongFlagged: false,\r\n};","import React from 'react';\r\nimport { DiffOption } from \"../DiffOption/DiffOption\";\r\nimport { difficultyOptions } from \"./../../data/data\";\r\nimport './DiffSelect.css';\r\n\r\nexport const DiffSelect = ({selectedDifficulty, changeDifficulty}) => {\r\n    const onChangeHandler = (event) => {\r\n        changeDifficulty(event.target.value);\r\n    };\r\n\r\n    return (\r\n        <div className=\"diff-select\" onChange={onChangeHandler}>\r\n            {difficultyOptions.map(option => (\r\n                <DiffOption\r\n                    key={option.value}\r\n                    {...option}\r\n                    selected={selectedDifficulty === option.value} />\r\n            ))}\r\n        </div>\r\n    );\r\n};","import React from 'react';\r\nimport './DiffHistory.css';\r\n\r\nexport const DiffHistory = ({\r\n    bestTime,\r\n    gamesPlayed,\r\n    gamesWon,\r\n    longestWinStreak,\r\n    longestLoseStreak,\r\n    currentWinStreak\r\n}) => (\r\n    <div className=\"diff-history\">\r\n        <p>\r\n            <span>\r\n                Best time:\r\n            </span>\r\n            <span>\r\n                {bestTime && bestTime < Infinity ? bestTime : '-'}\r\n            </span>\r\n        </p>\r\n        <p>\r\n            <span>\r\n                Games played:\r\n            </span>\r\n            <span>\r\n                {gamesPlayed || 0}\r\n            </span>\r\n        </p>\r\n        <p>\r\n            <span>\r\n                Games won:\r\n            </span>\r\n            <span>\r\n                {gamesWon || 0}\r\n            </span>\r\n        </p>\r\n        <p>\r\n            <span>\r\n                Percentage:\r\n            </span>\r\n            <span>\r\n                {gamesWon && gamesPlayed\r\n                    ? `${Math.round((gamesWon / gamesPlayed) * 100)}%`\r\n                    : '0%'}\r\n            </span>\r\n        </p>\r\n        <p>\r\n            <span>\r\n                Longest winning streak:\r\n            </span>\r\n            <span>\r\n                {longestWinStreak || 0}\r\n            </span>\r\n        </p>\r\n        <p>\r\n            <span>\r\n                Longest loosing streak:\r\n            </span>\r\n            <span>\r\n                {longestLoseStreak || 0}\r\n            </span>\r\n        </p>\r\n        <p>\r\n            <span>\r\n                Current winning streak:\r\n            </span>\r\n            <span>\r\n                {currentWinStreak || 0}\r\n            </span>\r\n        </p>\r\n    </div>\r\n);","import React from 'react';\r\nimport { DiffSelect } from \"../DiffSelect/DiffSelect\";\r\nimport { DiffHistory } from \"../DiffHistory/DiffHistory\";\r\nimport './Settings.css';\r\n\r\nexport const Settings = ({\r\n     difficulty,\r\n     history,\r\n     changeDifficulty,\r\n     returnHandler\r\n}) => (\r\n    <section className=\"settings\">\r\n        <div className=\"settings__content\">\r\n            <button\r\n                className=\"settings__return\"\r\n                aria-label=\"Return to menu\"\r\n                onClick={returnHandler}>\r\n                <span />\r\n            </button>\r\n            <h2 className=\"settings__title\">Settings</h2>\r\n            <p className=\"settings__warn\">\r\n                For more experience with other difficulty levels you can\r\n                visit this application web page on PC.\r\n            </p>\r\n            <DiffSelect\r\n                selectedDifficulty={difficulty}\r\n                changeDifficulty={changeDifficulty} />\r\n            <DiffHistory {...history} />\r\n        </div>\r\n    </section>\r\n);","import React from 'react';\r\n\r\nexport const TutorialStatic = () => (\r\n    <>\r\n        <div>\r\n            <p>\r\n                Minesweeper - is a logic game where mines are hidden in a grid of squares.\r\n                The objective is to open all safe squares in the quickest time possible.\r\n            </p>\r\n            <p>\r\n                Sounds pretty simple, right?..\r\n            </p>\r\n        </div>\r\n        <div>\r\n            <h3>\r\n                Game board\r\n            </h3>\r\n            <p>\r\n                There are two levels of difficulty available in mobile version, and three - in desktop.\r\n            </p>\r\n            <div>\r\n                <p>Mobile:</p>\r\n                <ul>\r\n                    <li>\r\n                        <b>Beginner:</b> 81 cells, 10 mines\r\n                    </li>\r\n                    <li>\r\n                        <b>Amateur:</b> 144 cells, 20 mines\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <div>\r\n                <p>Desktop:</p>\r\n                <ul>\r\n                    <li>\r\n                        <b>Beginner:</b> 81 cells, 10 mines\r\n                    </li>\r\n                    <li>\r\n                        <b>Intermediate:</b> 256 cells, 40 mines\r\n                    </li>\r\n                    <li>\r\n                        <b>Expert:</b> 480 cells, 99 mines\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n            <p>\r\n                To start a new game with another level, switch <b>Settings</b> in application menu\r\n                and select difficulty you want.\r\n            </p>\r\n        </div>\r\n        <div>\r\n            <h3>\r\n                Game rules\r\n            </h3>\r\n            <p>\r\n                So, rules in Minesweeper are very easy:\r\n            </p>\r\n            <ul>\r\n                <li>\r\n                    Cell with mine opened - game lost.\r\n                </li>\r\n                <li>\r\n                    Empty cell opened - game continues.\r\n                </li>\r\n                <li>\r\n                    If cell contains a number - it shows how many mines\r\n                    are hidden in eight cells around. This number helps determine\r\n                    where the safe cells are.\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <div>\r\n            <h3>\r\n                Tips and hints\r\n            </h3>\r\n            <ul>\r\n                <li>\r\n                    <b>Mark cells with mines.</b> If a cell is supposed to contain a mine -\r\n                    click it with the right mouse button, or hold your touch on the cell\r\n                    for a while, if you are a smartphone or a tablet user. The cell will be\r\n                    marked with a flag.\r\n                </li>\r\n                <li>\r\n                    <b>Explore and memorise possible combinations.</b> If three cells in a row\r\n                    contain the numbers 2-3-2, you can assume that there are three mines\r\n                    along those cells. If a cell contains the number 8,\r\n                    then all cells around it contain mines.\r\n                </li>\r\n                <li>\r\n                    <b>Try to open up unexplored grid areas.</b> Not sure which cell to open next?\r\n                    Try to open another part of the field. It is better to open unexplored\r\n                    areas than those where you have a 50/50 chance to stumble upon a mine.\r\n                </li>\r\n            </ul>\r\n        </div>\r\n    </>\r\n);","import React from 'react';\r\nimport { TutorialStatic } from \"../TutorialStatic/TutorialStatic\";\r\nimport './Tutorial.css';\r\n\r\nexport const Tutorial = ({exitHandler}) => (\r\n    <section className=\"tutorial\">\r\n        <button\r\n            className=\"tutorial__exit\"\r\n            aria-label=\"Exit tutorial\"\r\n            onClick={exitHandler} />\r\n        <h2 className=\"tutorial__title\">\r\n            Tutorial\r\n        </h2>\r\n        <div className=\"tutorial__content\">\r\n            <TutorialStatic />\r\n        </div>\r\n    </section>\r\n);","import React from 'react';\r\nimport './RotateBlocker.css';\r\nimport rotateImg from \"./../../img/rotate.png\";\r\n\r\nexport const RotateBlocker = () => (\r\n    <div className=\"rotate-blocker\">\r\n        <img src={rotateImg} alt=\"\"/>\r\n        <p className=\"rotate-blocker__alert\">\r\n            To allow application work properly,<br/>\r\n            please, rotate your screen<br/>\r\n            to a portrait orientation\r\n        </p>\r\n    </div>\r\n);","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAQAAACTbf5ZAAAEiUlEQVR42u2dIWzqThzHPwmiSUNShyATCARmFoWrQ73M4EhIEBUIkhkMjuWRBTeDQJQEgSABQTIxg0Atf4FBTGAwCBSCBLHk/nnNBbLxSpcNStt3n69awtF+dteD/Xa9olAovkeSPDXajHnljSVL3pjxQpc6BdJEBoMCNkuERzaMqJAixGjcMWa3V9rySo8HqhQpUKCIRZ02E1YcxF+pYBA6DGqs9qJDKtwSw50bCrRZ7lu0wzTI4zTYOCf+zog7dL5Olqd92144BnhZ9uyGR5J8B50Sb1K6RZwAk2Eqh2QDg58Qo8DCea8leQJAjBY1PmLJCapHknOgcc/WeccOOlcm45yIDpI4A9kfJuckybPzvnMyXJVb5zTi4JBm7vzcx+DsyJGzIY8LfgtnWTsTjHXBoy2cI1RwwU9h07nO1uS4JAk5HdY5wl/hvDPclj5cYZqcJRr4zkE47/Tughv8IIbtHLWG70hhP3Wlcs85bhm/kcKCFWn8JMbQmb5MDvgqvGa+z4QEl0fnFcEEn7lBcBwTP0jQxsR3TMqf8guFQqFQKBQKheKINGWatEOaR8qk+DImU0QEMsXEEx1bvnzJmC52KDNiKS06aKd1J87LnskSdnK8OC6TU8p9WW6NChXeEXRx4ZdnvShJj1Fg0yfNZyxZbPwrMwQDTlEJxGTknibHjBDM4Jis0yTDKaoIVjQDmTcELdfq2y1H1ORvwkv4P4LJwEUY5gjuOaKLoB1JYRtB5+9j/SGSwo8IhhwxRtCIpHATwUgJK2ElrISDhRJWwkpYCf9bwiZtJrzwQCr6wrrTXIYd1agLj2X5q05TLuK1oiz8sbal0UewxYiu8OhTbUtnjaAcXeEFguJR+fZJCQeLHwgPP5VE4lEf0nkEgsqHZbubKE9ayE/hKQ1a8t9SpSh/LIFGF7HPFivqXzwAsrQYM6RGMvpfLf/JPx6UsBIOFkpYCSthJayElXCA8BBWSx7oIuhEUtj+Y6aWLcmFabeewitagYzHwjS3pYfDyC09HLuOSlmAt3Angc0gsOmRcumiPC705F4KUaHKOwLbe4H4CznCTo4X6aJxAo0OwskqtLcAdBmzkhZtNDwxmQRiCvppJph8mRQlfgfilpzv5DelcOzFpVAoFAqFQqHwmwQ3n6LjOylscvhBFXGUNQY+U0ewIcNl8C4sZfCZBEsES5K+Duk0s2sJwy0bBHMS+IXG+Eo9LMmxlcp+6j5eTxhMdggWpLg0hqxRNTCuKLzfqnVFlktyI6/dOlxX+LAZ744SlyJ32O43CMKQktst28Q5NzHqvCO3Ww6KMMTpI5yrOXeRTdjnZCBIwgAWW9nPCc6BToOdrC7rHIgxZYZOAEjLivaGOgY/QcNiFaRN8d0pspLSDyT5DgZVFvKOqWYwevI0OvVvPtgihkmHrWxrh6mYblDj8CCSseejS9IU6bLet3gK06NLkMTIM2CHkNkxo88j95QpUqBEhQZdpmw+bPtlhfHhNAfi3NFhgfDImgEWSSJDApMqT4yYMmfBgjdeeaZDjbswXa0KRaD4H00Xj4fYuJVMAAAAAElFTkSuQmCC\"","import React from 'react';\r\nimport './Result.css';\r\n\r\nexport const Result = ({\r\n   result,\r\n   timeProceed,\r\n   history\r\n}) => {\r\n    const date = new Date();\r\n    const day = date.getDate() > 9\r\n        ? date.getDate()\r\n        : `0${date.getDate()}`;\r\n    const month = (date.getMonth() + 1) > 9\r\n        ? date.getMonth() + 1\r\n        : `0${date.getMonth() + 1}`;\r\n    const {bestTime, gamesPlayed, gamesWon} = history;\r\n\r\n    return (\r\n        <div className=\"result\">\r\n            <p>\r\n                {\r\n                    result === 'win'\r\n                        ? 'Congratulations, you won!'\r\n                        : (<span>Sorry, you lost this game.<br/>\r\n                            Better luck next time!</span>)\r\n                }\r\n            </p>\r\n            {\r\n                result === 'win' && timeProceed === bestTime\r\n                    ? (<p>\r\n                        You've showed your best time for this level of difficulty!\r\n                    </p>)\r\n                    : null\r\n            }\r\n            <div className=\"result__stats\">\r\n                <p>\r\n                    Time: {timeProceed} seconds\r\n                </p>\r\n                <p>\r\n                    Date: {`${day}.${month}.${date.getFullYear()}`}\r\n                </p>\r\n            </div>\r\n            <div>\r\n                {\r\n                    bestTime && bestTime < Infinity\r\n                        ? (<div className=\"result__stats result__stats--history\">\r\n                            <p>\r\n                                Best time: {bestTime}\r\n                            </p>\r\n                        </div>)\r\n                        : null\r\n                }\r\n                <div className=\"result__stats result__stats--history\">\r\n                    <p>\r\n                        Games played: {gamesPlayed}\r\n                    </p>\r\n                </div>\r\n                <div className=\"result__stats result__stats--history\">\r\n                    <p>\r\n                        Games won: {gamesWon}\r\n                    </p>\r\n                    <p>\r\n                        Percentage: {Math.round((gamesWon / gamesPlayed) * 100)}%\r\n                    </p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};","import React from 'react';\r\nimport './UpdateStatic.css';\r\n\r\nexport const UpdateStatic = ({version}) => (\r\n    <div className=\"update-static\">\r\n        <h2 className=\"update-static__title\">\r\n            Application Update\r\n        </h2>\r\n        <h3>\r\n            Version {version}: what's new?\r\n        </h3>\r\n        <ul>\r\n            <li>\r\n                <b>New version notification:</b> from now, every time\r\n                application gets new version update - you will see this\r\n                notification with list of added features or fixed problems.<br/>\r\n                <i>Caution: after update your unfinished game will be deleted.</i>\r\n            </li>\r\n            <li>\r\n                <b>Updating cache fix</b>: no need to reload page to clear old\r\n                caches after updates - application will do it by itself.\r\n            </li>\r\n        </ul>\r\n    </div>\r\n);","import React from 'react';\r\nimport { Result } from \"../Result/Result\";\r\nimport { UpdateStatic } from \"../UpdateStatic/UpdateStatic\";\r\nimport './Modal.css';\r\n\r\nexport const Modal = ({\r\n      content,\r\n      updateVersion,\r\n      result,\r\n      timeProceed,\r\n      history,\r\n      hideModalHandler,\r\n      btn1Name,\r\n      btn1Action,\r\n      btn2Name,\r\n      btn2Action\r\n}) => (\r\n    <div className=\"modal\">\r\n        <div className={`modal__window${!hideModalHandler ? ' modal__window--no-close' : ''}`\r\n            + `${updateVersion ? ' modal__window--update' : ''}`}>\r\n            {\r\n                hideModalHandler\r\n                    ? (<button\r\n                        className=\"modal__close\"\r\n                        aria-label=\"Close modal window\"\r\n                        onClick={hideModalHandler} />)\r\n                    : null\r\n            }\r\n            {\r\n                content\r\n                    ? (<p className=\"modal__txt\">\r\n                        {content}\r\n                    </p>)\r\n                    : updateVersion\r\n                    ? <UpdateStatic version={updateVersion} />\r\n                    : <Result\r\n                        result={result}\r\n                        timeProceed={timeProceed}\r\n                        history={history} />\r\n            }\r\n            {\r\n                btn1Name && btn1Action\r\n                    ? (<div className=\"modal__btn-wrap\">\r\n                        <button className=\"modal__btn\" onClick={btn1Action}>\r\n                            {btn1Name}\r\n                        </button>\r\n                        {\r\n                            btn2Name && btn2Action\r\n                                ? (<button className=\"modal__btn\" onClick={btn2Action}>\r\n                                    {btn2Name}\r\n                                </button>)\r\n                                : null\r\n                        }\r\n                    </div>)\r\n                    : null\r\n            }\r\n        </div>\r\n    </div>\r\n);","import React from 'react';\r\nimport './Loader.css';\r\n\r\nexport const Loader = ({loaderState}) => (\r\n    <div className={`loader${loaderState === 'hidden'\r\n            ? ' loader--hidden' : ''}`}>\r\n        <div className=\"loader__spinner\">\r\n            <div className=\"loader__spinner-inner\">\r\n                <div />\r\n            </div>\r\n        </div>\r\n    </div>\r\n);","import React, { Component } from 'react';\r\nimport { Menu } from \"./components/Menu/Menu\";\r\nimport { Game } from \"./components/Game/Game\";\r\nimport { Settings } from \"./components/Settings/Settings\";\r\nimport { Tutorial } from \"./components/Tutorial/Tutorial\";\r\nimport { RotateBlocker } from \"./components/RotateBlocker/RotateBlocker\";\r\nimport { Modal } from \"./components/Modal/Modal\";\r\nimport { Loader } from \"./components/Loader/Loader\";\r\nimport { gameTemplate, historyTemplate, minesAmount, cellTemplate } from \"./data/data\";\r\nimport './App.css';\r\n\r\n/*\r\n* Storage names explained:\r\n* _hv-m-v: app version\r\n* _hv-m-n: app update notification, if exists - user already seen it\r\n* _hv-m-g: current game data\r\n* _hv-m-h: user's history data\r\n* */\r\n\r\nexport class App extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.version = '0.5.5';\r\n        this.state = {\r\n            loaderState: 'visible',\r\n            modalHidden: false,\r\n            displayedBlock: '',\r\n            displayedModal: '',\r\n            flagMode: false,\r\n            game: (localStorage.getItem('_hv-m-v') !== this.version)\r\n                ? gameTemplate(this.generateCellsEmptyData(9, 9))\r\n                : JSON.parse(localStorage.getItem('_hv-m-g'))\r\n                || gameTemplate(this.generateCellsEmptyData(9, 9)),\r\n            history: JSON.parse(\r\n                localStorage.getItem('_hv-m-h'),\r\n                (key, value) => value === null ? Infinity : value\r\n            ) || {\r\n                '9x9': historyTemplate,\r\n            },\r\n        };\r\n        this.minesAmount = minesAmount;\r\n        this.gameLayoutMode = '';\r\n        this.timerInterval = null;\r\n        this.resizeAppBlock = this.resizeAppBlock.bind(this);\r\n        this.runTimer = this.runTimer.bind(this);\r\n        this.pauseTimer = this.pauseTimer.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        // if got unfinished game from storage\r\n        if (this.state.game.inProgress) {\r\n            this.switchBlockHandler('game');\r\n            this.switchModalHandler('unfinished');\r\n        }\r\n\r\n        if (localStorage.getItem('_hv-m-v') !== this.version\r\n            || !localStorage.getItem('_hv-m-n')) {\r\n            // todo notify user about new version features (switchModalHandler)\r\n            this.switchModalHandler('update');\r\n            localStorage.removeItem('_hv-m-n');\r\n            localStorage.setItem('_hv-m-v', this.version);\r\n        }\r\n\r\n        this.resizeAppBlock();\r\n        window.addEventListener('resize', this.resizeAppBlock);\r\n\r\n        setTimeout(() => {\r\n            this.setLoaderState('hidden');\r\n        }, 500);\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        const {rows, cols, safeCellsRevealed, difficulty, inProgress} = this.state.game;\r\n\r\n        // winning scenario - all safe cells revealed\r\n        if (rows * cols - safeCellsRevealed === this.minesAmount[difficulty]\r\n            && inProgress) {\r\n            this.setWinState();\r\n        }\r\n\r\n        localStorage.setItem('_hv-m-g', JSON.stringify(this.state.game));\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        window.removeEventListener('resize', this.resizeAppBlock);\r\n    }\r\n\r\n    resizeAppBlock() {\r\n        this.appRef.style.height = `${window.innerHeight}px`;\r\n        this.setGameLayoutMode(\r\n            window.innerHeight, window.innerWidth,\r\n            this.state.game.cols, this.state.game.rows);\r\n    }\r\n\r\n    runTimer(force) {\r\n        window.removeEventListener('focus', this.runTimer);\r\n        window.addEventListener('blur', this.pauseTimer);\r\n\r\n        if (force === true || this.state.game.inProgress) {\r\n            this.initTimer();\r\n        }\r\n    }\r\n\r\n    pauseTimer() {\r\n        window.removeEventListener('blur', this.pauseTimer);\r\n        window.addEventListener('focus', this.runTimer);\r\n\r\n        clearInterval(this.timerInterval);\r\n    }\r\n\r\n    initTimer = () => {\r\n        this.timerInterval = setInterval(() => {\r\n            this.setState(prevState => ({\r\n                game: {\r\n                    ...prevState.game,\r\n                    timeProceed: prevState.game.timeProceed + 1,\r\n                }\r\n            }));\r\n        }, 1000);\r\n    };\r\n\r\n    setWinState = () => {\r\n        // 1. stop timer\r\n        this.pauseTimer();\r\n        // 2. mark game as not ready for interact + as won\r\n        this.setState(prevState => ({\r\n            game: {\r\n                ...prevState.game,\r\n                inProgress: false,\r\n                result: 'win',\r\n            }\r\n        }));\r\n        // 3. save result to players history\r\n        this.setHistoryState(true);\r\n        // 4. trigger fancy mines-reveal animation\r\n        this.defuseMines();\r\n        // 5. after animation played - show results modal\r\n        setTimeout(() => {\r\n            this.switchModalHandler('result');\r\n        }, 5000);\r\n    };\r\n\r\n    setLoseState = (x, y) => {\r\n        // 1. stop timer\r\n        this.pauseTimer();\r\n        // 2. mark game as not ready for interact + as won\r\n        this.setState(prevState => ({\r\n            game: {\r\n                ...prevState.game,\r\n                inProgress: false,\r\n                result: 'lose',\r\n            }\r\n        }));\r\n        // 3. save result to players history\r\n        this.setHistoryState(false);\r\n        // 4. trigger mines-reveal process\r\n        this.revealMinesWhenLost(x, y);\r\n        // 5. after a while - show results modal\r\n        setTimeout(() => {\r\n            this.switchModalHandler('result');\r\n        }, 4000);\r\n    };\r\n\r\n    setHistoryState = (gameWon) => {\r\n        this.setState(prevState => {\r\n            const levelData = prevState.history[prevState.game.difficulty] || historyTemplate;\r\n            const newLevelData = {\r\n                bestTime: (gameWon && prevState.game.timeProceed < levelData.bestTime)\r\n                    ? prevState.game.timeProceed : levelData.bestTime,\r\n                gamesPlayed: levelData.gamesPlayed + 1,\r\n                gamesWon: gameWon ? levelData.gamesWon + 1 : levelData.gamesWon,\r\n                longestWinStreak: (gameWon && levelData.longestWinStreak === levelData.currentWinStreak)\r\n                    ? levelData.longestWinStreak + 1 : levelData.longestWinStreak,\r\n                longestLoseStreak: (!gameWon && levelData.longestLoseStreak === levelData.currentLoseStreak)\r\n                    ? levelData.longestLoseStreak + 1 : levelData.longestLoseStreak,\r\n                currentWinStreak: gameWon ? levelData.currentWinStreak + 1 : 0,\r\n                currentLoseStreak: !gameWon ? levelData.currentLoseStreak + 1 : 0,\r\n            };\r\n            const updatedHistory = {\r\n                ...prevState.history,\r\n                [prevState.game.difficulty]: newLevelData,\r\n            };\r\n\r\n            localStorage.setItem('_hv-m-h', JSON.stringify(updatedHistory));\r\n\r\n            return {\r\n                history: updatedHistory,\r\n            }\r\n        });\r\n    };\r\n\r\n    switchBlockHandler = (displayedBlock) => {\r\n        if (displayedBlock === 'new-game') {\r\n            // reset data only if 'New Game' triggered\r\n            this.resetGameData();\r\n        }\r\n\r\n        this.setState({\r\n            displayedBlock,\r\n        })\r\n    };\r\n\r\n    switchModalHandler = (displayedModal) => {\r\n        this.setState({\r\n            displayedModal,\r\n        });\r\n    };\r\n\r\n    toggleModalVisibilityHandler = (hide) => {\r\n        this.setState({\r\n            modalHidden: hide,\r\n        })\r\n    };\r\n\r\n    leaveGameHandler = () => {\r\n        this.state.game.inProgress\r\n            ? this.switchModalHandler('leave-confirm')\r\n            : this.enterMenuWithoutModal();\r\n    };\r\n\r\n    leaveGameConfirm = () => {\r\n        this.enterMenuWithoutModal();\r\n        this.setHistoryState(false);\r\n        this.setState(prevState => ({\r\n            game: {\r\n                ...prevState.game,\r\n                inProgress: false,\r\n            }\r\n        }));\r\n        clearInterval(this.timerInterval);\r\n    };\r\n\r\n    continueGameConfirm = () => {\r\n        this.switchModalHandler('');\r\n        this.runTimer();\r\n    };\r\n\r\n    confirmUpdateNotification = () => {\r\n        this.switchModalHandler('');\r\n        localStorage.setItem('_hv-m-n', 'seen');\r\n    };\r\n\r\n    enterMenuWithoutModal = () => {\r\n        this.switchBlockHandler('menu');\r\n        this.switchModalHandler('');\r\n        this.toggleModalVisibilityHandler(false);\r\n    };\r\n\r\n    prepareNewGame = () => {\r\n        this.resetGameData();\r\n        this.switchModalHandler('');\r\n    };\r\n\r\n    resetGameData = () => {\r\n        this.setState(prevState => ({\r\n            game: {\r\n                ...prevState.game,\r\n                cells: this.generateCellsEmptyData(prevState.game.cols, prevState.game.rows),\r\n                started: false,\r\n                inProgress: false,\r\n                timeProceed: 0,\r\n                flaggedAmount: 0,\r\n                safeCellsRevealed: 0,\r\n                result: null,\r\n            }\r\n        }))\r\n    };\r\n\r\n    generateCellsEmptyData = (colsNum, rowsNum) => {\r\n        const cellsArr = [];\r\n\r\n        for (let i = 0; i < colsNum; i++) {\r\n            const colArr = [];\r\n            for (let j = 0; j < rowsNum; j++) {\r\n                colArr.push(cellTemplate);\r\n            }\r\n            cellsArr.push(colArr);\r\n        }\r\n\r\n        return cellsArr;\r\n    };\r\n\r\n    changeDifficulty = (difficulty) => {\r\n        const [, cols, rows] = /(\\d+)x(\\d+)/.exec(difficulty);\r\n\r\n        this.setGameLayoutMode(window.innerHeight, window.innerWidth, cols, rows);\r\n        this.setState(prevState => ({\r\n            game: {\r\n                ...prevState.game,\r\n                cols: parseInt(cols),\r\n                rows: parseInt(rows),\r\n                cells: this.generateCellsEmptyData(cols, rows),\r\n                difficulty,\r\n            },\r\n        }))\r\n    };\r\n\r\n    toggleFlagMode = () => {\r\n        this.setState(prevState => ({\r\n            flagMode: !prevState.flagMode,\r\n        }))\r\n    };\r\n\r\n    setMines = (x, y) => {\r\n        this.setState(prevState => {\r\n            const minesIdCollection = {};\r\n            let minesCount = 0;\r\n\r\n            while (minesCount < this.minesAmount[prevState.game.difficulty]) {\r\n                const randCol = Math.floor(Math.random() * prevState.game.cols);\r\n                const randRow = Math.floor(Math.random() * prevState.game.rows);\r\n                const mineId = `${randCol}x${randRow}`;\r\n\r\n                if (!(mineId in minesIdCollection) && !(x - 2 < randCol && x + 2 > randCol\r\n                    && y - 2 < randRow && y + 2 > randRow)) {\r\n                    minesIdCollection[mineId] = true;\r\n                    minesCount += 1;\r\n                }\r\n            }\r\n\r\n            const cells = prevState.game.cells.map((subArr, x) => {\r\n                return subArr.map((cell, y) => {\r\n                    if (`${x}x${y}` in minesIdCollection) {\r\n                        return {\r\n                            ...cell,\r\n                            mine: true,\r\n                        }\r\n                    }\r\n\r\n                    return cell;\r\n                });\r\n            });\r\n\r\n            return {\r\n                game: {\r\n                    ...prevState.game,\r\n                    cells,\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    startGame = (x, y) => {\r\n        this.setMines(x, y);\r\n        this.setState(prevState => ({\r\n            game: {\r\n                ...prevState.game,\r\n                started: true,\r\n                inProgress: true,\r\n            }\r\n        }));\r\n        this.runTimer(true);\r\n        this.setRevealedCellsState(x, y);\r\n    };\r\n\r\n    clickOnCellHandler = (col, row) => {\r\n        const {flagMode, game: {inProgress, cells, safeCellsRevealed}} = this.state;\r\n        const cell = cells[col][row];\r\n\r\n        if (!inProgress && safeCellsRevealed === 0) {\r\n            this.startGame(col, row);\r\n\r\n        } else if (inProgress && flagMode) {\r\n            this.toggleFlagOnCellHandler(col, row);\r\n\r\n        } else if (inProgress && !cell.flagged && !cell.opened && cell.mine) {\r\n            this.setLoseState(col, row);\r\n\r\n        } else if (inProgress) {\r\n            this.setRevealedCellsState(col, row);\r\n        }\r\n    };\r\n\r\n    revealCell = (gameState, x, y) => {\r\n        let updatedGameState = {...gameState};\r\n        let cells = [...updatedGameState.cells];\r\n\r\n        if (cells[x] && cells[x][y] && !cells[x][y].opened && !cells[x][y].flagged) {\r\n            cells[x][y] = {\r\n                ...cells[x][y],\r\n                opened: true,\r\n            };\r\n\r\n            updatedGameState = {\r\n                ...updatedGameState,\r\n                cells,\r\n            };\r\n\r\n            const minesAround = this.countMinesAround(cells, x, y);\r\n\r\n            if (minesAround === 0) {\r\n                return {\r\n                    ...this.revealCell(updatedGameState,x - 1, y - 1),\r\n                    ...this.revealCell(updatedGameState, x, y - 1),\r\n                    ...this.revealCell(updatedGameState,x + 1, y - 1),\r\n                    ...this.revealCell(updatedGameState,x - 1, y),\r\n                    ...this.revealCell(updatedGameState,x + 1, y),\r\n                    ...this.revealCell(updatedGameState,x - 1, y + 1),\r\n                    ...this.revealCell(updatedGameState, x, y + 1),\r\n                    ...this.revealCell(updatedGameState,x + 1, y + 1),\r\n                }\r\n\r\n            } else {\r\n                cells = [...updatedGameState.cells];\r\n                cells[x][y] = {\r\n                    ...cells[x][y],\r\n                    minesAround,\r\n                };\r\n\r\n                return {\r\n                    ...updatedGameState,\r\n                    cells,\r\n                };\r\n            }\r\n        }\r\n\r\n        return gameState;\r\n    };\r\n\r\n    setRevealedCellsState = (col, row) => {\r\n        this.setState(prevState => {\r\n            const updatedGame = this.revealCell({...prevState.game}, col, row);\r\n            let safeCellsRevealed = 0;\r\n\r\n            updatedGame.cells.forEach(subArr => {\r\n                subArr.forEach(cell => {\r\n                    if (cell.opened && !cell.mine) {\r\n                        safeCellsRevealed += 1;\r\n                    }\r\n                });\r\n            });\r\n\r\n            return {\r\n                game: {\r\n                    ...updatedGame,\r\n                    safeCellsRevealed,\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    defuseMines = () => {\r\n        this.setState(prevState => {\r\n            const cells = prevState.game.cells.map(subArr => {\r\n                return subArr.map(cell => {\r\n                    if (cell.mine) {\r\n                        return {\r\n                            ...cell,\r\n                            opened: true,\r\n                            defused: true,\r\n                        }\r\n                    }\r\n\r\n                    return cell;\r\n                });\r\n            });\r\n\r\n            return {\r\n                game: {\r\n                    ...prevState.game,\r\n                    cells,\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    revealMinesWhenLost = (col, row) => {\r\n        this.setState(prevState => {\r\n            const cells = prevState.game.cells.map((subArr, x) => {\r\n                return subArr.map((cell, y) => {\r\n                    if (col === x && row === y) {\r\n                        return {\r\n                            ...cell,\r\n                            opened: true,\r\n                            blownUp: true,\r\n                        }\r\n\r\n                    } else if (cell.mine) {\r\n                        return {\r\n                            ...cell,\r\n                            opened: true,\r\n                            rightFlagged: true,\r\n                        }\r\n\r\n                    } else if (cell.flagged && !cell.mine) {\r\n                        return {\r\n                            ...cell,\r\n                            opened: true,\r\n                            wrongFlagged: true,\r\n                        }\r\n                    }\r\n\r\n                    return cell;\r\n                });\r\n            });\r\n\r\n            return {\r\n                game: {\r\n                    ...prevState.game,\r\n                    cells,\r\n                }\r\n            }\r\n        });\r\n    };\r\n\r\n    countMinesAround = (cells, x, y) => {\r\n        let count = 0;\r\n\r\n        for (let i = -1; i < 2; i++) {\r\n            if (!cells[x + i]) continue;\r\n\r\n            for (let j = -1; j < 2; j++) {\r\n                if (cells[x + i][y + j] && cells[x + i][y + j].mine) {\r\n                    count += 1;\r\n                }\r\n            }\r\n        }\r\n\r\n        return count;\r\n    };\r\n\r\n    toggleFlagOnCellHandler = (col, row) => {\r\n        if (this.state.game.inProgress) {\r\n            this.setState(prevState => {\r\n                let increment = 1;\r\n                const cells = prevState.game.cells.map((subArr, x) => {\r\n                    return subArr.map((cell, y) => {\r\n                        if (col === x && row === y) {\r\n                            if (cell.flagged) {\r\n                                increment = -1;\r\n                            }\r\n\r\n                            return {\r\n                                ...cell,\r\n                                flagged: !cell.flagged,\r\n                            }\r\n                        }\r\n\r\n                        return cell;\r\n                    });\r\n                });\r\n\r\n                // todo why code below not working?\r\n                // const cells = [...prevState.game.cells];\r\n                // cells[col][row] = {\r\n                //     ...cells[col][row],\r\n                //     flagged: !cells[col][row].flagged,\r\n                // };\r\n                //\r\n                // let increment = cells[col][row].flagged ? 1 : -1;\r\n\r\n                return {\r\n                    game: {\r\n                        ...prevState.game,\r\n                        cells,\r\n                        flaggedAmount: prevState.game.flaggedAmount + increment,\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    };\r\n\r\n    setGameLayoutMode = (appHeight, appWidth, colsNum, rowsNum) => {\r\n        this.setState({\r\n            gameLayoutMode: (appHeight < 568 && rowsNum > 9)\r\n                ? 'game--r16-568'\r\n                : (appWidth < 768 && colsNum > 16)\r\n                    ? 'game--c30-768'\r\n                    : (appWidth < 992 && colsNum > 16)\r\n                        ? 'game--c30-992' : '',\r\n        })\r\n    };\r\n\r\n    setLoaderState = (loaderState) => {\r\n        this.setState({\r\n            loaderState,\r\n        })\r\n    };\r\n\r\n    render() {\r\n        const { displayedBlock, flagMode, gameLayoutMode,\r\n            displayedModal, loaderState, modalHidden,\r\n            game: {\r\n                difficulty,\r\n                timeProceed,\r\n                cols,\r\n                rows,\r\n                cells,\r\n                started,\r\n                inProgress,\r\n                flaggedAmount,\r\n                result,\r\n            },\r\n        } = this.state;\r\n        const minesLeft = this.minesAmount[difficulty] - flaggedAmount;\r\n        const history = this.state.history[difficulty];\r\n\r\n        return (\r\n            <main\r\n                className={`app${modalHidden ? ' app--modal-hidden' : ''}`}\r\n                ref={(appRef) => this.appRef = appRef}>\r\n                <div className=\"app__container\">\r\n                    {\r\n                        displayedBlock.includes('game', 'new-game')\r\n                            ? <Game\r\n                                layoutMode={gameLayoutMode}\r\n                                started={started}\r\n                                inProgress={inProgress}\r\n                                cols={cols}\r\n                                rows={rows}\r\n                                cells={cells}\r\n                                timeProceed={timeProceed}\r\n                                flagMode={flagMode}\r\n                                minesLeft={minesLeft}\r\n                                leaveGameHandler={this.leaveGameHandler}\r\n                                toggleFlagMode={this.toggleFlagMode}\r\n                                clickOnCellHandler={this.clickOnCellHandler}\r\n                                toggleFlagOnCellHandler={this.toggleFlagOnCellHandler} />\r\n                            : displayedBlock === 'settings'\r\n                                ? <Settings\r\n                                    difficulty={difficulty}\r\n                                    history={history}\r\n                                    changeDifficulty={this.changeDifficulty}\r\n                                    returnHandler={() => {this.switchBlockHandler('menu')}} />\r\n                                : displayedBlock === 'tutorial'\r\n                                    ? <Tutorial\r\n                                        exitHandler={() => {this.switchBlockHandler('menu')}}  />\r\n                                    : <Menu\r\n                                        switchBlockHandler={this.switchBlockHandler} />\r\n                    }\r\n                </div>\r\n                <RotateBlocker />\r\n                {\r\n                    displayedModal === 'leave-confirm'\r\n                    ? <Modal\r\n                        content={'Are you sure you want to leave to menu? Game progress will be lost.'}\r\n                        btn1Name={'Stay'}\r\n                        btn2Name={'Leave'}\r\n                        btn1Action={() => {this.switchModalHandler('')}}\r\n                        btn2Action={this.leaveGameConfirm.bind(this)}\r\n                        hideModalHandler={() => {this.switchModalHandler('')}} />\r\n                    : displayedModal === 'unfinished'\r\n                    ? <Modal\r\n                        content={'You have an unfinished game. Would you like to continue?'}\r\n                        btn1Name={'Continue'}\r\n                        btn2Name={'To Menu'}\r\n                        btn1Action={this.continueGameConfirm.bind(this)}\r\n                        btn2Action={this.leaveGameConfirm.bind(this)} />\r\n                    : displayedModal === 'result'\r\n                    ? <Modal\r\n                        result={result}\r\n                        timeProceed={timeProceed}\r\n                        history={history}\r\n                        btn1Name={'New Game'}\r\n                        btn2Name={'To Menu'}\r\n                        btn1Action={this.prepareNewGame.bind(this)}\r\n                        btn2Action={this.enterMenuWithoutModal.bind(this)}\r\n                        hideModalHandler={() => {this.toggleModalVisibilityHandler(true)}} />\r\n                    : displayedModal === 'update'\r\n                    ? <Modal\r\n                        updateVersion={this.version}\r\n                        btn1Name={'Confirm'}\r\n                        btn1Action={this.confirmUpdateNotification.bind(this)}\r\n                        hideModalHandler={this.confirmUpdateNotification.bind(this)} />\r\n                    : null\r\n                }\r\n                <Loader loaderState={loaderState} />\r\n                <button\r\n                    className=\"app__modal-btn\"\r\n                    aria-label=\"Show modal window again\"\r\n                    onClick={() => {this.toggleModalVisibilityHandler(false)}} />\r\n            </main>\r\n        );\r\n    }\r\n}\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n    window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n        /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register () {\r\n    if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n        // The URL constructor is available in all browsers that support SW.\r\n        const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n        if (publicUrl.origin !== window.location.origin) {\r\n            // Our service worker won't work if PUBLIC_URL is on a different origin\r\n            // from what our page is served on. This might happen if a CDN is used to\r\n            // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n            return\r\n        }\r\n\r\n        window.addEventListener('load', () => {\r\n            const swUrl = `${process.env.PUBLIC_URL}/sw.js`;\r\n\r\n            if (!isLocalhost) {\r\n                // Is not local host. Just register service worker\r\n                registerValidSW(swUrl)\r\n            } else {\r\n                // This is running on localhost. Lets check if a service worker still exists or not.\r\n                checkValidServiceWorker(swUrl)\r\n            }\r\n        })\r\n    }\r\n}\r\n\r\nfunction registerValidSW (swUrl) {\r\n    navigator.serviceWorker\r\n        .register(swUrl, {scope: `${process.env.PUBLIC_URL}/`})\r\n        .then(registration => {\r\n            registration.onupdatefound = () => {\r\n                const installingWorker = registration.installing;\r\n                installingWorker.onstatechange = () => {\r\n                    if (installingWorker.state === 'installed') {\r\n                        if (navigator.serviceWorker.controller) {\r\n                            // At this point, the old content will have been purged and\r\n                            // the fresh content will have been added to the cache.\r\n                            // It's the perfect time to display a \"New content is\r\n                            // available; please refresh.\" message in your web app.\r\n                            console.debug('New content is available; please refresh.')\r\n                        } else {\r\n                            // At this point, everything has been precached.\r\n                            // It's the perfect time to display a\r\n                            // \"Content is cached for offline use.\" message.\r\n                            console.debug('Content is cached for offline use.')\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        })\r\n        .catch(error => {\r\n            console.error('Error during service worker registration:', error)\r\n        })\r\n}\r\n\r\nfunction checkValidServiceWorker (swUrl) {\r\n    // Check if the service worker can be found. If it can't reload the page.\r\n    fetch(swUrl)\r\n        .then(response => {\r\n            // Ensure service worker exists, and that we really are getting a JS file.\r\n            if (\r\n                response.status === 404 ||\r\n                response.headers.get('content-type').indexOf('javascript') === -1\r\n            ) {\r\n                // No service worker found. Probably a different app. Reload the page.\r\n                navigator.serviceWorker.ready.then(registration => {\r\n                    registration.unregister().then(() => {\r\n                        window.location.reload()\r\n                    })\r\n                })\r\n            } else {\r\n                // Service worker found. Proceed as normal.\r\n                registerValidSW(swUrl)\r\n            }\r\n        })\r\n        .catch(() => {\r\n            console.debug(\r\n                'No internet connection found. App is running in offline mode.'\r\n            )\r\n        })\r\n}\r\n\r\nexport function unregister () {\r\n    if ('serviceWorker' in navigator) {\r\n        navigator.serviceWorker.ready.then(registration => {\r\n            registration.unregister()\r\n        })\r\n    }\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { App } from './App';\r\nimport './index.css';\r\nimport registerServiceWorker from './registerServiceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\nregisterServiceWorker();"],"sourceRoot":""}